"use strict";var Application=Application||{};Application.Services=angular.module("application.services",[]),Application.Controllers=angular.module("application.controllers",[]),Application.Filters=angular.module("application.filters",[]),Application.Directives=angular.module("application.directives",[]);var appDeps=["ngRoute","ngResource","application.filters","application.services","application.directives","application.controllers","bcPlayer"],run=function(a,b,c,d,e){d.updateCurrent(),e.update(),a.$on("$routeChangeSuccess",function(c,f){a.currentRoute=c,a.previousRoute=f,d.updateCurrent(),e.update(),b.current.action&&b.current.action.length>0&&(a.action=b.current.action)})},config=function(a,b,c,d,e){c.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|file|bitcoin):/),b.html5Mode(!0).hashPrefix("!"),a.when("/",{templateUrl:"tpl/home.html",controller:"HomeController"}).when("/index.html",{templateUrl:"tpl/home.html",controller:"HomeController"}).when("/buy-tickets",{templateUrl:"tpl/home.html",controller:"HomeController"}).when("/game/:game",{templateUrl:"tpl/game.html",controller:"GameDataController"}).when("/game-detail/:gameId",{templateUrl:"tpl/game-detail.html",controller:"GameDetailController"}).when("/history",{templateUrl:"tpl/history.html",controller:"HistoryController"}).when("/howtoplay",{templateUrl:"tpl/howtoplay.html"}).when("/search",{templateUrl:"tpl/search.html",controller:"SearchController"}).when("/affiliate",{templateUrl:"tpl/affiliate.html"}).when("/what-is-bitcoin",{templateUrl:"tpl/whatisbitcoin.html"}).when("/where-to-get-bitcoin",{templateUrl:"tpl/wheretogetbitcoin.html"}).when("/support",{templateUrl:"tpl/support/new-ticket.html"}).when("/press",{templateUrl:"tpl/press.html"}).when("/wiki",{templateUrl:"tpl/wiki.html"}).when("/terms-conditions",{templateUrl:"tpl/terms.html"}).otherwise({templateUrl:"tpl/error404.html"}),d.cookieName("player-api-token"),d.serverConfig({hostname:e.hostname,port:e.port,scheme:e.protocol})};angular.module("application",appDeps).config(["$routeProvider","$locationProvider","$compileProvider","BCPlayerProvider","PlayerApi",config]).run(["$rootScope","$route","$location","CurrentGameData","BTCExchangeRate",run]);var BCAccountController=function(a,b,c,d,e,f){b.user=f.user,b.userEditData=angular.copy(f.user),b.target=d.target,b.checkAnonymous=function(d){/^\/account/.test(c.path())&&d&&d.anonymous&&"edit"!==b.target&&(a.$broadcast("new notification",{type:"anonymous_upgrade"}),c.path("/account/edit"))},e.$on("user update",function(a,c){b.user=c,b.userEditData=angular.copy(c),e.User.getChallenge({},function(a){b.challenge=a.challenge}),b.checkAnonymous(c)}),f.user&&(e.User.getChallenge({},function(a){b.challenge=a.challenge}),b.userEditData=f.user,b.checkAnonymous(f.user)),b.login=function(){e.login(b.loginForm.alias,b.loginForm.password).then(function(a){b.loginForm.password="",b.user=a},function(){b.loginForm.password="",b.user=null})},b.logout=function(){e.logout().then(function(){c.path("/")})},b.update=function(){b.error=null,b.updated=!1;var a;b.userEditData.withdraw.btc.backup&&(a=b.userEditData.withdraw.btc.backup.address),e.User.update({alias:b.userEditData.alias,password:b.userEditData.password,email:b.userEditData.email,btcWithdrawAddress:b.userEditData.withdraw.btc.address,btcBackupWithdrawAddress:null===a||""===a?null:a,signature:b.userEditData.signature,backupSignature:b.userEditData.backupSignature},function(a){e.$emit("user update",a),f.user=a,b.updated=!0,c.path("/account")},function(a){b.error=a.data.message})},b.initiateWithdraw=function(){b.withdrawPending=!0},b.withdrawBtc=function(){b.errors={},b.successWithdraw=!1,e.User.withdraw({amount:b.user.balance.btc,currency:"btc"},function(){b.withdrawPending=!1},function(a){console.error(a.data.message),b.user=a.user,b.btcWithdrawAmount=0,b.successWithdraw=!0,b.withdrawPending=!1,b.errors.server=a.data.message,423===a.status?b.minconfErr=!0:b.withdrawErr=!0})}};Application.Controllers.controller("BCAccountController",["$rootScope","$scope","$location","$routeParams","BCPlayer","BCSession",BCAccountController]);var AddressesController=function(a){a.showHistoryNav=!1};Application.Controllers.controller("AddressesController",["$scope","$location","BetAddresses",AddressesController]);var COIN=1e8,HomeController=function(a){a.heading="Current Games",a.$on("all-games-update",function(c,d){a.currentGames=d,a.currentChart.series=b()});var b=function(){if(a.currentGames.length<5)return[];var b={name:"bets",id:"bets",stack:"bets",yAxis:2,data:[]},c={name:"tickets",id:"tickets",stack:"tickets",yAxis:3,data:[]},d={name:"payout",id:"payout",stack:"payout",data:[]},e={name:"house rake",id:"house rake",stack:"rake",data:[]},f={name:"affiliate rake",id:"affiliate rake",stack:"rake",data:[]},g={name:"savings rake",id:"savings rake",stack:"rake",data:[]};return a.currentGames.forEach(function(a){b.data.push(a.betCount),c.data.push(a.ticketCount),d.data.push(a.totalPayout/COIN),e.data.push(a.totalHouseRake/COIN),f.data.push(a.totalAffiliateRake/COIN),g.data.push(a.totalSavingsRake/COIN)}),[b,c,d,e,f,g]};a.currentChart={chart:{type:"column"},title:{text:"Current Games"},xAxis:{categories:[1,3,7,9,15]},yAxis:[{title:{text:"rake"}},{title:{text:"payout"}},{title:{text:"bets"},opposite:!0},{title:{text:"tickets"},opposite:!0}],tooltip:{formatter:function(){return"<b>"+this.x+"</b><br/>"+this.series.name+": "+this.y+"<br/>Total: "+this.point.stackTotal}},plotOptions:{column:{stacking:"normal"},spline:{marker:{enabled:!1}}},series:[]},window.scope=a};Application.Controllers.controller("HomeController",["$scope",HomeController]),Application.Controllers.controller("TermsAndConditionsController",["$scope","$location",function(a,b){a.supportDomain=b.host()}]);var GameDetailController=function(a,b,c){a.gameId=b.gameId,a.$on("game-update",function(b,c,d){d._id===a.gameId&&(a.gamedata=d)}),c.get({game:a.gameId},function(b){a.gamedata=b})};Application.Controllers.controller("GameDetailController",["$scope","$routeParams","Games",GameDetailController]);var GameDataController=function(a,b,c){a.game=parseInt(b.game,10),a.recent=[],a.getRecent=function(b){c.recent({game:a.game,limit:b},function(c){a.recent=0>b?c:c.concat(a.recent.slice(b,a.recent.length))})},c.current({game:a.game},function(b){a.current=b,a.currentTable=[b]}),a.$on("game-update",function(b,d,e){if(d===a.game)if(a.current=e,a.recent.length&&a.recent[0]._id===e._id){a.recent[0]=e;var f=new Date;a.recent.forEach(function(b,d){new Date(b.end)<f&&(b.payout&&b.payout.sent||c.get({game:b._id},function(b){a.recent[d]=b}))})}else a.getRecent(-1)})};Application.Controllers.controller("GameDataController",["$scope","$routeParams","Games",GameDataController]);var HistoryController=function(a,b){a.games=[],b.history({omitBets:!0},function(b){a.games=b}),a.$on("all-games-update",function(c,d){var e=new Date,f={};d.forEach(function(a){f[a._id]=a}),a.games.forEach(function(c,d){f[c._id]?a.games[d]=c:new Date(c.end)<e&&(!(c.betCount>0)||c.payout&&c.payout.sent||b.get({game:c._id},function(b){a.games[d]=b}))})})};Application.Controllers.controller("HistoryController",["$scope","Games",HistoryController]);var HomeController=function(a){a.currentGames=[{game:15,address:"1Priz15xwtKd9Ahb2XMoi4Q79sbQWt5dNT"},{game:9,address:"1Prize9L4ytBsqTNt1MDWtC8BW6kyNgcDJ"},{game:7,address:"1Prize7FUmAQxpq9zLaahCYU9gwCrsh5jD"},{game:3,address:"1Prize3bEpEbd7SMcRBJ7nQ8bhPi2ja761"},{game:1,address:"1Prize1WfNVLyQFF3rmwFGkrmBMrgtBZYo"}],a.sendBitcoins=function(a,b){b="",bitcoin.sendMoney(a)},a.$on("all-games-update",function(b,c){var d=[c[4],c[3],c[2],c[1],c[0]];d[0].game=15,d[1].game=9,d[2].game=7,d[3].game=3,d[4].game=1,d[0].address="1Priz15xwtKd9Ahb2XMoi4Q79sbQWt5dNT",d[1].address="1Prize9L4ytBsqTNt1MDWtC8BW6kyNgcDJ",d[2].address="1Prize7FUmAQxpq9zLaahCYU9gwCrsh5jD",d[3].address="1Prize3bEpEbd7SMcRBJ7nQ8bhPi2ja761",d[4].address="1Prize1WfNVLyQFF3rmwFGkrmBMrgtBZYo",a.currentGames=d}),a.$on("exchange-update",function(b,c){a.exchange=c})};Application.Controllers.controller("HomeController",["$scope",HomeController]);var NavController=function(a,b){a.showHistoryNav=!1,a.getActive=function(c){return a.showHistoryNav=/\/game\/[0-9]{1,2}/.test(b.path()),c===b.path()?"active":"/game"===c&&/\/game\/[0-9]{1,2}/.test(b.path())?(a.showHistoryNav=!0,"active"):"/"===c&&"/buy-tickets"===b.path()?"active":""}};Application.Controllers.controller("NavController",["$scope","$location",NavController]);var SearchController=function(a,b){a.searchOptions=["address","txid","gameid"],a.search="",a.searchType="address",a.results={},a.searchkey="",a.error="",a.message=!0,a.prizeSearchLoading=!1;var c=function(){a.message=!1,a.prizeSearchLoading=!1,a.error=!0};a.addressSearch=function(){b.addressSearch({search:a.search},function(b){a.results.address=b,a.message=!1,a.prizeSearchLoading=!1,a.error=!1},c)},a.txidSearch=function(){b.txidSearch({search:a.search},function(b){a.searchkey=b,a.message=!1,a.prizeSearchLoading=!1,a.error=!1},c)},a.gameidSearch=function(){b.get({game:a.search},function(b){a.results.gameid=b,a.message=!1,a.prizeSearchLoading=!1,a.error=!1},c)},a.executeSearch=function(){a.prizeSearchLoading=!0,a.message=!1,a.error=!1,a[a.searchType+"Search"]()}};Application.Controllers.controller("SearchController",["$scope","Games",SearchController]),Application.Directives.directive("bcBitcoinIcons",["PlayerApi",function(a){return{restrict:"E",templateUrl:"tpl/directives/bitcoin-icons.html",link:function(b,c,d){d.$observe("btcAddress",function(){b.btcAddress=d.btcAddress}),b.$watch("showQR",function(){b.showQR&&(b.qrcodeUrl=a.protocol+"://"+a.hostname+":"+a.port+"/qrcode/"+b.btcAddress)}),b.sendBitcoins=function(a){bitcoin.sendMoney(a)}}}}]),Application.Directives.directive("blockchainInfo",[function(){return{scope:!0,replace:!0,template:'<a href="http://blockchain.info/search/{{searchTerm}}" target="_blank">{{displayString}}</a>',link:function(a,b,c){c.$observe("blockchainInfo",function(b){a.searchTerm=b,a.displayString=c.chars?b.substring(0,c.chars)+"...":b})}}}]),Application.Directives.directive("bcBox",function(){return{restrict:"AE",transclude:!0,scope:{title:"@"},templateUrl:"tpl/directives/box.html"}}),Application.Directives.directive("bcClientSeed",[function(){return{restrict:"E",scope:{reset:"=",seedValue:"=",initSeedValue:"="},templateUrl:"tpl/directives/client-seed.html",link:function(a){a.setClientSeed=function(){a.initSeedValue&&(a.seedValue=a.initSeedValue,a.reset=!1)}}}}]),Application.Directives.directive("bcNavigation",[function(){return{restrict:"E",templateUrl:"tpl/navigation/navigation.html"}}]),Application.Directives.directive("bcFooter",[function(){return{restrict:"E",templateUrl:"tpl/navigation/footer.html"}}]),Application.Directives.directive("bcLoader",[function(){return{restrict:"E",templateUrl:"tpl/preloader.html"}}]),Application.Directives.directive("bootstrapTooltip",[function(){return{link:function(a,b,c){$(b).tooltip({title:function(){return c.bootstrapTooltip}})}}}]);var COIN=1e8,GameChartController=function(a){var b=function(a){var b={name:"jackpot",id:"jackpot",data:[]},c={name:"bets",id:"bets",yAxis:1,type:"column",data:[]},d=0;return a.bets.forEach(function(a){d+=a.toPayout,b.data.push(d/COIN),c.data.push(a.tickets)}),[c,b]};a.chartConfig={chart:{type:"spline",width:910},title:{text:"Game Tickets per Bet/Jackpot"},plotOptions:{spline:{marker:{enabled:!1}}},yAxis:[{title:{text:"jackpot"}},{title:{text:"tickets purchased"},opposite:!0}],series:[]},a.$watch("gamedata",function(c){c&&c._id&&(a.chartConfig.series=b(c))})};Application.Directives.directive("gamechart",function(){return{restrict:"EAC",replace:!0,templateUrl:"tpl/directives/game-chart.html",scope:{gamedata:"="},controller:["$scope",GameChartController]}});var GameCounterController=function(a,b){a.timers={},a.exchange=b.exchange,a.$on("exchange-update",function(b,c){a.exchange=c}),setInterval(function(){a.$apply(function(){var b=a.gamedata;if(void 0===b.end)a.timers[b.game]="loading...";else{var c=new Date(b.end),d=c.getTime(),e=new Date,f=e.getTime(),g=(d-f)/1e3,h=Math.floor(g/86400),i=g%86400,j=Math.floor(i/3600),k=i%3600,l=Math.floor(k/60),m=Math.floor(k%60),n=Math.floor(m);h=Math.max(0,h),j=Math.max(0,j),l=Math.max(0,l),n=Math.max(0,n),10>j&&(j="0"+j),10>l&&(l="0"+l),10>n&&(n="0"+n);var o=j+":"+l+":"+n;a.timers[b.game]={daysLeft:h,timeString:o}}})},1e3)};Application.Directives.directive("gamecounter",function(){return{restrict:"EAC",replace:!0,templateUrl:"tpl/directives/game-counter.html",scope:{gamedata:"="},controller:["$scope","$rootScope",GameCounterController]}}),Application.Directives.directive("bcGameCounters",["$http",function(a){return{restrict:"E",templateUrl:"tpl/directives/gamecounters.html",link:function(b,c,d){var e=function(a){b.count=a.count,b.sum=a.sum,b.exchange=a.exchange},f=window.io.connect(d.socketHost);a({method:"GET",url:d.apiEndpoint}).then(function(a){e(a.data)}),f.on(d.eventName,function(a){b.$apply(function(){e(a)})})}}}]),Application.Directives.directive("gamedetail",function(){return{restrict:"EAC",replace:!0,templateUrl:"tpl/directives/game-detail.html",scope:{gamedata:"="}}});var GameTableController=function(a){a.$watch("gamedata",function(b){b&&(a.betAddress=a.gamedata.game)}),a.cupimages={15:"img/betcoin_prize_diamond_trophy.png",9:"img/betcoin_prize_platinum_trophy.png",7:"img/betcoin_prize_gold_trophy.png",3:"img/betcoin_prize_silver_trophy.png",1:"img/betcoin_prize_bronze_trophy.png"},a.sendBitcoins=function(a,b){b="",bitcoin.sendMoney(a)},a.gameStatus=function(a){if(void 0===a)return"";if(a.payout)return a.payout.sent?"paid":a.payout.prepared&&!a.payout.sent?"pending":"";var b=new Date;return new Date(a.start)<b&&new Date(a.end)>b?"current":a.totalPayout?"processing":""},a.rowClass=function(b){return void 0===b?"":b.payout?b.payout.sent?"":"success":new Date(b.start)<a.now&&new Date(b.end)>a.now?"warning":b.totalPayout?"active":""}};Application.Directives.directive("gametable",function(){return{restrict:"EAC",replace:!0,templateUrl:"tpl/directives/game-table.html",scope:{gamedata:"="},controller:["$scope","BetAddresses",GameTableController]}}),Application.Directives.directive("highchart",function(){function a(a,b,c){var d=a[b];a[b]=function(){var a=Array.prototype.slice.call(arguments);return c.apply(this,a),d?d.apply(this,a):void 0}}function b(a,c){for(var d in c)c[d]&&c[d].constructor&&c[d].constructor===Object?(a[d]=a[d]||{},b(a[d],c[d])):a[d]=c[d];return a}var c=0,d=function(a){a.forEach(function(a){angular.isDefined(a.id)||(a.id="series-"+c++)})},e=function(c,d,e){var f={},g={chart:{events:{},width:940},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1}};return f=e?b(g,e):g,f.chart.renderTo=d[0],e.xAxis&&(a(f.chart.events,"selection",function(a){var b=this;c.$apply(a.xAxis?function(){c.config.xAxis.currentMin=a.xAxis[0].min,c.config.xAxis.currentMax=a.xAxis[0].max}:function(){c.config.xAxis.currentMin=b.xAxis[0].dataMin,c.config.xAxis.currentMax=b.xAxis[0].dataMax})}),a(f.chart.events,"addSeries",function(){c.config.xAxis.currentMin=this.xAxis[0].min||c.config.xAxis.currentMin,c.config.xAxis.currentMax=this.xAxis[0].max||c.config.xAxis.currentMax})),e.xAxis&&(f.xAxis=angular.copy(e.xAxis)),e.title&&(f.title=e.title),e.subtitle&&(f.subtitle=e.subtitle),e.credits&&(f.credits=e.credits),f},f=function(a,b){var c=a.getExtremes();(b.currentMin!==c.dataMin||b.currentMax!==c.dataMax)&&a.setExtremes(b.currentMin,b.currentMax,!1)},g=function(a,b){(b.currentMin||b.currentMax)&&a.xAxis[0].setExtremes(b.currentMin,b.currentMax,!0)},h=function(a,b){var c=[];b&&(d(b),b.forEach(function(b){c.push(b.id);var d=a.get(b.id);d?d.update(angular.copy(b),!1):a.addSeries(angular.copy(b),!1)}));for(var e=a.series.length-1;e>=0;e--){var f=a.series[e];c.indexOf(f.options.id)<0&&f.remove(!1)}},i=function(a,b,c){c=c||{};var d=e(a,b,c),f=c.useHighStocks?new Highcharts.StockChart(d):new Highcharts.Chart(d);return c.xAxis&&g(f,c.xAxis),h(f,c.series),c.loading&&f.showLoading(),f.redraw(),f};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"="},link:function(a,b){var c=i(a,b,a.config);a.$watch("config.series",function(a,b){a!==b&&(h(c,a),c.redraw())},!0),a.$watch("config.title",function(a){c.setTitle(a,!0)},!0),a.$watch("config.subtitle",function(a){c.setTitle(!0,a)},!0),a.$watch("config.loading",function(a){a?c.showLoading():c.hideLoading()}),a.$watch("config.credits.enabled",function(a){a?c.credits.show():c.credits.hide()}),a.$watch("config.useHighStocks",function(){c.destroy(),c=i(a,b,a.config)}),a.$watch("config.xAxis",function(a,b){a!==b&&a&&(c.xAxis[0].update(a),f(c.xAxis[0],angular.copy(a)),c.redraw())},!0),a.$watch("config.options",function(a,d,e){a!==d&&(c.destroy(),c=i(e,b,e.config))},!0)}}}),Application.Directives.directive("historytable",function(){return{restrict:"EAC",replace:!0,templateUrl:"tpl/directives/history-table.html",scope:{games:"="},link:function(a){a.now=new Date,setInterval(function(){a.$apply(function(){a.now=new Date})},6e4),window.htable=a,a.gameStatus=function(b){return b.payout?b.payout.sent?"paid":b.payout.prepared&&!b.payout.sent?"pending":"":new Date(b.start)<a.now&&new Date(b.end)>a.now?"current":""},a.rowClass=function(b){return b.payout?b.payout.sent?"success":"danger":new Date(b.start)<a.now&&new Date(b.end)>a.now?"warning":""}}}}),Application.Directives.directive("bcLogin",["BCPlayer",function(a){return{restrict:"E",scope:{onLogin:"&",onLoginError:"&"},templateUrl:"tpl/directives/loginform.html",link:function(b,c,d){b.loginAlias=a.getCookie("lastAlias")||"",b.loginAddress=a.getCookie("lastAddress"),a.removeCookie("lastAddress"),b.loginPassword="",b.inline=d.inline,b.login=function(){b.error=null,b.newPlayerPending=!0;var c;b.loginAddress&&""!==b.loginAddress&&(c="address"),a.login(b.loginAddress||b.loginAlias,b.loginPassword,c).then(function(a){b.loginPassword="",b.newPlayerPending=!1,b.player=a,console.debug("logged in"),b.onLogin({player:a})},function(a){b.loginPassword="",b.newPlayerPending=!1,b.player=!1,console.error(a),b.error=a.message,b.onLoginError({err:a})})}}}}]),Application.Directives.directive("bcLoginAnon",["$cookies","BCPlayer",function(a,b){return{restrict:"E",scope:{onLogin:"&",onLoginError:"&"},templateUrl:"tpl/directives/loginanonform.html",link:function(c,d,e){c.inline=e.inline,c.anonAddress=a.lastAnon||"";try{bitcoin.getUserInfo(function(a){c.anonAddress=a.address})}catch(f){}c.loginAnon=function(){c.error=null,b.registerAnonymous(c.anonAddress,"btc").then(function(a){c.player=a,c.onLogin({player:a})},function(a){c.player=!1,console.error(a),c.error=a.message,c.onLoginError({err:a})})}}}}]),Application.Directives.directive("bcNotifications",[function(){return{restrict:"E",scope:!0,templateUrl:"tpl/directives/notifications.html",link:function(a){a.$on("new notification",function(b,c){a.notification=c}),a.removeNotification=function(){a.notification=void 0}}}}]),Application.Directives.directive("bcPage",function(){return{restrict:"AE",transclude:!0,scope:{loading:"="},templateUrl:"tpl/directives/page.html"}}),Application.Directives.directive("bcPopover",[function(){return{restrict:"A",scope:!0,link:function(a,b,c){var d=!1;c.$observe("bcPopover",function(a){"true"===a&&($(b).popover({trigger:"manual",html:!0,placement:void 0===c.bcPopoverDirection?"bottom":c.bcPopoverDirection,content:$(b).siblings(".errors").html()}),$(b).popover("show"),d=!0),"true"!==a&&d&&($(b).popover("destroy"),d=!1)})}}}]);var QRController=function(a,b){a.dataURI="",a.$watch("address",function(c){c&&b({method:"GET",url:"https://m-sock.betcoin.tm:8444/qrcode/"+a.address}).success(function(b){a.dataURI=b}).error(function(a){console.log(a)})})};Application.Directives.directive("qrcode",function(){return{restrict:"EAC",replace:!0,template:'<img ng-src="{{dataURI}}" />',scope:{address:"="},controller:["$scope","$http",QRController]}}),Application.Directives.directive("bcRedirectLogin",["$location","BCPlayer","BCSession",function(a,b,c){return{restrict:"E",templateUrl:"tpl/directives/redirect_loginform.html",link:function(d,e,f){d.identity=b.getCookie("lastAlias")||"",d.inline=f.inline,d.home_description=f.homeDescription,d.redirect_path=f.redirectPath;var g=function(c){b.verifyAddress(c).then(function(e){e.exist===!0?(b.saveCookie("lastAddress",c),window.location.href=d.redirect_path?a.protocol()+"://"+a.host()+":"+a.port()+"/login?r="+d.redirect_path:a.protocol()+"://"+a.host()+":"+a.port()+"/login"):("1"===c.substring(0,1)&&c.length>26&&(b.saveCookie("lastAddress",c),b.removeCookie("lastAlias")),window.location.href=a.protocol()+"://"+a.host()+":"+a.port()+"/signup")},function(){window.location.href=a.protocol()+"://"+a.host()+":"+a.port()+"/signup"})};d.checkAlias=function(){c.user&&c.user.alias===d.identity&&(window.location.href=d.redirect_path?a.protocol()+"://"+a.host()+":"+a.port()+"/"+d.redirect_path:a.protocol()+"://"+a.host()+":"+a.port()+"/account"),d.error=null,b.verifyAlias(d.identity).then(function(c){if(b.saveCookie("lastAlias",d.identity),b.removeCookie("lastAddress"),c.exist===!0){if(c.isAnonymous)return void b.registerAnonymous(d.identity,"btc").then(function(){window.location.href=a.protocol()+"://"+a.host()+":"+a.port()+"/account"},function(a){d.error=a.message});window.location.href=d.redirect_path?a.protocol()+"://"+a.host()+":"+a.port()+"/login?r="+d.redirect_path:a.protocol()+"://"+a.host()+":"+a.port()+"/login"}else g(d.identity)},function(){g(d.identity)})}}}}]),Application.Directives.directive("bcSubmenu",function(){return{restrict:"AE",transclude:!0,controller:["$scope","$rootScope","$routeParams","$location",function(a,b,c,d){a.isCurrentSport=b.isCurrentSport,a.isCurrentLeague=b.isCurrentLeague,a.isResponsiveHide=function(){return"/home"!==d.path()}}],scope:!0,templateUrl:"tpl/directives/submenu.html"}});var GameTotalsController=function(a,b){var c=function(){var c={};"all"!==a.game&&(c={game:a.game}),b.get(c,function(b){a.totals=b})};a.$on("all-games-update",function(){c()}),a.$on("exchange-update",function(b,c){a.exchange=c})};Application.Directives.directive("gametotals",function(){return{restrict:"EAC",replace:!0,templateUrl:"tpl/directives/totals.html",scope:{game:"="},controller:["$scope","Totals",GameTotalsController]}}),Application.Directives.directive("txid",[function(){return{scope:!0,restrict:"E",replace:!0,template:'<a href="http://blockchain.info/search/{{searchterm}}" target="_blank">{{displayString}}</a>',link:function(a,b,c){c.$observe("searchterm",function(b){a.searchterm=b,a.displayString=c.chars?b.substring(0,c.chars)+"...":b})}}}]),Application.Directives.directive("bcUnread",["BCPlayer","BCSession",function(a,b){return{restrict:"E",scope:!0,template:"<b class='badge'>{{unreadCount}}</b>",link:function(c){c.unreadCount=void 0===b.unreadCount?0:b.unreadCount,a.onMessageUnreadCount(function(a){c.unreadCount=a[0],b.unreadCount=c.unreadCount})}}}]),Application.Filters.filter("btc",function(){return function(a){var b=parseInt(a,10);if(isNaN(b))return 0;var c=b/1e8,d=c;return d}}),Application.Filters.filter("btctwo",function(){return function(a){if(void 0===a)return"";var b=parseInt(a,10);if(isNaN(b))return 0;var c=b/1e8;if(!c||isNaN(c))return 0;var d=c.toString().split("."),e=d[0]+"."+d[1].toString().substring(0,3);return e}}),Application.Filters.filter("btcusd",["$filter",function(a){var b=a("noFractionCurrency");return function(a,c){if(!a||isNaN(a))return"";a=a/1e8*c;var d=b(a);return d}}]),Application.Filters.filter("noFractionCurrency",["$filter","$locale",function(a,b){var c=a("currency"),d=b.NUMBER_FORMATS;return function(a){if(!a)return"loading...";var b=c(a,""),e=b.indexOf(d.DECIMAL_SEP);return a>=0?b.substring(0,e):""}}]),Application.Filters.filter("btc",function(){return function(a){if(void 0===a)return 0;var b=parseInt(a,10).toBitcoin();return 100>a&&a>0&&(b=10>this?"0.0000000"+a:"0.000000"+a),b}}),Application.Filters.filter("numberk",function(){return function(a){if(parseInt(a,10)<1e3)return a;var b=parseInt(a,10)/1e3;return b+="K"}}),Application.Filters.filter("hidePoints",function(){return function(a){return console.log(a),a.pointsAwarded<2?!1:a}}),Application.Filters.filter("noFractionCurrency",["$filter","$locale",function(a,b){var c=a("currency"),d=b.NUMBER_FORMATS;return function(a){if(!a)return"...";var b=c(a,""),e=b.indexOf(d.DECIMAL_SEP);return a>=0?b.substring(0,e):"..."}}]),Application.Filters.filter("capitalize",function(){return function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}}),Application.Filters.filter("default",function(){return function(a,b){return a?a:b}}),Application.Filters.filter("stripEndingZeroes",[function(){return function(a){return isNaN(parseFloat(a))?"":parseFloat(a).toString()}}]),function(){Highcharts.theme={colors:["#660000","#ffd479","#3B0D31","#552200","#CC0000","#003300","#D6AE58","#291407","#3B0D31","#660000","#D6AE58","#291407"],chart:{backgroundColor:{linearGradient:[0,0,250,500],stops:[[0,"rgb(40, 0, 0)"],[1,"rgb(0, 0, 0)"]]},borderColor:"#000000",borderWidth:2,className:"dark-container",plotBackgroundColor:"transparent",plotBorderColor:"#000",plotBorderWidth:0},title:{style:{color:"#C0C0C0",font:"bold 16px"}},subtitle:{style:{color:"#666666",font:"bold 12px"}},xAxis:{gridLineColor:"#111",gridLineWidth:1,labels:{style:{color:"#A0A0A0"}},lineColor:"#333",tickColor:"#333",title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px"}}},yAxis:{gridLineColor:"#333333",labels:{style:{color:"#A0A0A0"}},gridLineWidth:1,lineColor:"#333",minorTickInterval:null,tickColor:"#333",tickWidth:1,title:{style:{color:"#CCC",fontWeight:"bold",fontSize:"12px"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.75)",style:{color:"#F0F0F0"}},toolbar:{itemStyle:{color:"silver"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},spline:{marker:{lineColor:"#333"}},scatter:{marker:{lineColor:"#333"}},candlestick:{lineColor:"white"}},legend:{itemStyle:{font:"9pt",color:"#A0A0A0"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#444"}},credits:{style:{color:"#666"}},labels:{style:{color:"#CCC"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",hoverSymbolStroke:"#FFFFFF",theme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#333"],[.6,"#111"]]},stroke:"#000000"}}},rangeSelector:{buttonTheme:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},stroke:"#000000",style:{color:"#CCC",fontWeight:"bold"},states:{hover:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#BBB"],[.6,"#888"]]},stroke:"#000000",style:{color:"white"}},select:{fill:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.1,"#000"],[.3,"#333"]]},stroke:"#000000",style:{color:"yellow"}}}},inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#000"},outlineColor:"#CCC",maskFill:"rgba(16, 16, 16, 0.5)",series:{color:"#7798BF",lineColor:"#A6C7ED"}},scrollbar:{barBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},barBorderColor:"#CCC",buttonArrowColor:"#CCC",buttonBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[.4,"#888"],[.6,"#555"]]},buttonBorderColor:"#CCC",rifleColor:"#FFF",trackBackgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#000"],[1,"#333"]]},trackBorderColor:"#666"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",legendBackgroundColorSolid:"rgb(35, 35, 70)",dataLabelsColor:"#444",textColor:"#C0C0C0",maskColor:"rgba(255,255,255,0.3)"},Highcharts.setOptions(Highcharts.theme)}(),function(a,b){var c=b.module("bcAdmin",["ng","ivpusic.cookie","base64"]),d={path:"/"};return c.provider("BCAuth",function(){var a="localhost",b=8443,c="https",d="",e="api-token",f=[],g=function(){var e=c+"://"+a+":"+b;return d.length&&(e+="/"+d.replace(/^\//,"")),e};this.serverConfig=function(e){a=e.hostname||a,b=e.port||b,c=e.scheme||c,d=e.base||d},this.cookieName=function(a){e=a},this.publicPaths=function(a){f=a},this.$get=["$http","$base64","ipCookie","BCAdminSession",function(a,b,c,d){return d.cookieName=e,d.token=c(d.cookieName),{publicPaths:f,url:g(),login:function(c,d){return a.get(this.url+"/auth",{headers:{Authorization:"Basic "+b.encode(c+":"+d)}})},logout:function(){a.get(this.url+"/logout").success(function(){c.remove(d.cookieName)})},isPublic:function(a){return a="/"+a.split("/")[1],this.publicPaths.indexOf(a)>=0?!0:!1}}}]}),c.value("BCAdminSession",{token:null,user:null,cookieName:null}),c.config(["$httpProvider",function(a){var b=function(a,b,c,e){return e.token=b(e.cookieName),{request:function(b){return e.token&&void 0===b.headers.Authorization&&(b.headers.Authorization="Bearer "+e.token),b||a.when(b)},response:function(c){var f=c.headers("api-token");return f&&(e.token=f,b(e.cookieName,f,d)),c||a.when(c)},responseError:function(d){return 403===d.status&&(e.token=null,b.remove(e.cookieName),c.path("/login")),a.reject(d)}}};a.interceptors.push(["$q","ipCookie","$location","BCAdminSession",b])}]),c}(window,window.angular),function(a,b){if(void 0===a.io)throw"No socket.io found!";var c=b.module("bcPlayer",["ng","ivpusic.cookie","ngResource","base64"]),d={path:"/"};c.value("BCSession",{token:null,user:null,cookieName:"player-api-token"}),c.provider("BCPlayer",function(){var b="localhost",c=8443,e="https",f="",g="player-api-token",h=[],i=[],j=!1,k=function(){var a=l();return a.replace(/([a-z]):([0-9])/,"$1\\:$2")},l=function(){var a=e+"://"+b+":"+c;return f.length&&(a+="/"+f.replace(/^\//,"")),a};this.serverConfig=function(a){b=a.hostname||b,c=a.port||c,e=a.scheme||e,f=a.base||f},this.cookieName=function(a){g=a},this.publicPaths=function(a){h=a},this.privatePaths=function(a){i=a},this.setCreditDelay=function(a){if(a=parseInt(a,10),isNaN(a))throw"delay must be an integer";j=a};var m=function(b,c,e,f,n,o,p){var q=b.$new();p.cookieName=g;var r=l(),s=k(),t=function(){return p.user&&p.user._id?p.user._id:void 0},u=a.io.connect(r);return q.setCreditDelay=function(a){if(a=parseInt(a,10),isNaN(a))throw"delay must be an integer";j=a},u.on("deposit",function(a,b,c){q.$apply(function(){p.user=c,q.$emit("deposit",a,b,c),q.$emit("user update",c)})}),u.on("withdraw",function(a,b){q.$apply(function(){p.user=a,q.$emit("withdraw",a,b),q.$emit("user update",a)})}),u.on("debit",function(a,b){p.user=a,q.$emit("debit",a,b),q.$emit("user update",a)}),u.on("credit",function(a,b){j?setTimeout(function(a,b){p.user=a,q.$emit("credit",a,b),q.$emit("user update",a)},j,a,b):(p.user=a,q.$emit("credit",a,b),q.$emit("user update",a))}),u.on("subscribe error",function(a){q.error=a,m.user=null,p.token=null,n.remove(p.cookieName),q.$emit("user update",null)}),u.on("disconnect",function(){b.$broadcast("new notification",{type:"socket_disconnected"})}),q.url=r,q.resourceUrl=s,q.publicPaths=h,q.privatePaths=i,q.login=function(a,b,e){var g=o.defer(),h=this,i={};return a&&b&&(i={Authorization:"Basic "+f.encode(a+":"+b)}),c.get(r+"/auth?method="+e,{headers:i}).success(function(b){p.user=b,n("userId",b._id,d),void 0===e&&n("lastAlias",a,d),"address"===e&&n("lastAddress",a,d),h.socket.emit("subscribe",b._id),q.$emit("user update",b),q.$emit("login",b),g.resolve(b)}).error(function(a,b){a.status=b,p.user=null,p.token=null,n.remove(p.cookieName),console.error("login error",a),q.$emit("login error",a),g.reject(a)}),g.promise},q.registerAnonymous=function(a,b){var e=o.defer(),f=this,g={withdrawAddress:a,currency:b,anonymous:!0};return c.post(r+"/user",g).success(function(b){p.user=b,n("userId",b._id,d),n("lastAnon",a,d),f.socket.emit("subscribe",b._id),q.$emit("user update",b),q.$emit("login",b),e.resolve(b)}).error(function(a){p.user=null,p.token=null,n.remove(p.cookieName),console.error("login error",n(p.cookieName),p.cookieName),e.reject(a)}),e.promise},q.logout=function(){var a=o.defer();return q.User.delete({_id:p.user._id},function(){p.user=null,p.token=null,n.remove(p.cookieName),q.$emit("user update",null),q.$emit("logout"),a.resolve()}),a.promise},q.auth=this.login,q.getToken=function(){return n(p.cookieName)},q.Ticket=e(s+"/ticket/:id/:action/:actionParam",{id:"@_id"},{listStatus:{method:"GET",params:{id:"status"}},comment:{method:"POST",params:{action:"comment"}}}),q.User=e(s+"/user/:id/:target/:targetId/:action/:currency/:range",{id:t},{update:{method:"PUT"},getChallenge:{method:"GET",params:{action:"challenge",id:t}},withdraw:{method:"GET",params:{action:"withdraw",id:t}},addWithdrawAddress:{method:"PUT",params:{target:"address",action:"withdraw",currency:"btc",id:t}},newTicket:{method:"POST",params:{id:t,target:"ticket"}},commentTicket:{method:"POST",params:{id:t,target:"ticket",targetId:"@_id",action:"comment"}},updateTicket:{method:"PUT",params:{id:t,target:"ticket",targetId:"@_id",action:"status",currency:"@newStatus"}},markMessageRead:{method:"PUT",params:{target:"notification",targetId:"@notificationId",action:"read"}},dismissMessage:{method:"DELETE",params:{target:"notification"}},sendSupportEmail:{method:"POST",params:{target:"message",action:"send",id:t}},getNotifications:{method:"GET",isArray:!0,params:{target:"notification",id:t}},getTransactions:{method:"GET",isArray:!0,params:{id:t,target:"transaction",currency:"btc",range:"2012-01-01"}}}),q.verifyAlias=function(a){var b=o.defer();
return c.get(r+"/verify/alias/"+a).success(function(a){return b.resolve(a)}).error(function(a,c){return a.status=c,b.reject(a)}),b.promise},q.verifyAddress=function(a){var b=o.defer();return c.get(r+"/verify/withdrawAddress/"+a).success(function(a){return b.resolve(a)}).error(function(a,c){return a.status=c,b.reject(a)}),b.promise},q.socket=u,q.socketSubscribe=function(){u.emit("subscribe",p.token)},q.onMessage=function(a){return u.on("notification",a)},q.onMessageUnreadCount=function(a){u.on("notification unread",a)},q.isPublic=function(a){return a="/"+a.split("/")[1],this.privatePaths.indexOf(a)>=0?!1:this.publicPaths.indexOf(a)>=0?!0:0===this.publicPaths.length?!0:!1},q.clearUserCache=function(){n.remove("userId")},q.saveUserIdCache=function(a){n("userId",a,d)},q.saveCookie=function(a,b){n(a,b,d)},q.getCookie=function(a){return n(a)},q.removeCookie=function(a){n.remove(a,d)},q};this.$get=["$rootScope","$http","$resource","$base64","ipCookie","$q","BCSession",m]}),c.run(["$rootScope","ipCookie","BCSession","BCPlayer",function(a,b,c,d){c.token=b(c.cookieName),c.token&&d.login().then(function(){},function(a){console.error(a)}),a.BCSession=c}]),c.config(["$httpProvider",function(a){var b=function(a,b,c){return c.token=b(c.cookieName),{request:function(b){return c.token&&void 0===b.headers.Authorization&&(b.headers.Authorization="Bearer "+c.token),b||a.when(b)},response:function(e){var f=e.headers("api-token");return f&&(c.token=f,b(c.cookieName,f,d)),e||a.when(e)},responseError:function(d){return(401===d.status||403===d.status)&&(c.token=null,b.remove(c.cookieName)),a.reject(d)}}};a.interceptors.push(["$q","ipCookie","BCSession",b])}])}(window,window.angular),function(){angular.module("application").directive("placeholder",["$timeout",function(a){return function(b,c,d){var e,f,g,h,i={cssClass:"placeholder",excludedAttrs:["placeholder","name","id","ng-model","type"]},j=d.placeholder,k="password"===d.type,l="placeholder"in document.createElement("input")&&"placeholder"in document.createElement("textarea");if(!l){g=function(){var a={};return $.each(d.$attr,function(b,c){$.inArray(c,i.excludedAttrs)&&(a[c]=d[c])}),a};var m=function(){return $("<input>",$.extend(g(),{type:"text",value:j})).addClass(i.cssClass).bind("focus",function(){f()}).insertBefore(c)};k?(h=m(),e=function(){c.val()||(h.show(),c.hide())},f=function(){h.is(":visible")&&(h.hide(),c.show().focus())}):(e=function(){c.val()||(c.val(j),a(function(){c.addClass(i.cssClass)},0))},f=function(){c.hasClass(i.cssClass)&&(c.val("").select(),c.removeClass(i.cssClass))}),c.on("focus",f).on("blur",e),a(function(){c.trigger("blur")},0),b.$watch(d.ngModel,function(a){""===a?c.is(":focus")||c.trigger("blur"):c.hasClass(i.cssClass)&&c.removeClass(i.cssClass)})}}}])}(),Number.prototype.toSatoshi=function(){if(isNaN(this))return 0/0;if(0===this)return 0;var a=this.toString(),b=0===a.indexOf("-")?"-":"";if(a=a.replace(/^-/,""),a.indexOf("e")>=0){var c=parseInt(b+a.replace(".","").replace(/e-8/,"").replace(/e-7/,""),10);return c}/\./.test(a)||(a+=".0");var d=a.split(".");for(a=d[0]+"."+d[1].slice(0,8);!/\.[0-9]{8}/.test(a);)a+="0";return parseInt(b+a.replace(".","").replace(/^0+/,""),10)},Number.prototype.toBitcoin=function(){if(isNaN(this))return 0/0;if(0===this)return 0;var a=parseInt(this,10).toString(),b=0===a.indexOf("-")?"-":"";a=a.replace(/^-/,"");for(var c=/[0-9]{8}/;!c.test(a);)a="0"+a;return a=a.slice(0,a.length-8)+"."+a.slice(a.length-8),parseFloat(b+a)},Number.prototype.zeroFill=function(a){if(isNaN(this))return 0/0;a||(a=8);var b=this.toString(),c=b.split(".");1===c.length&&c.push("0");for(var d=a-c[1].length,e=0;d>e;e++)c[1]+="0";return c[0]+"."+c[1]},function(a,b){var c=b.module("bcInfoLinks",["ng"]);c.config(["$routeProvider",function(a){a.when("/new-to-bitcoin",{templateUrl:"tpl/newtobitcoin.html"}).when("/terms-conditions",{templateUrl:"tpl/terms.html"}).when("/press",{templateUrl:"tpl/press.html"})}])}(window,window.angular),function(a,b){var c=b.module("routeInterceptor",["ng"]),d=function(b,c,d,e,f){return{enforceRoutes:function(){var b=function(b){if("/signup"===d||"/login"===d)return c.path("/account");var e;try{e=b.withdraw.btc.address}catch(f){e=null}b&&null===e&&"/verify/wallet"!==d&&(a.location.href=c.protocol()+"://"+c.host()+":"+c.port()+"/verify/wallet")},d=c.path();f.user?b(f.user):e.$on("user update",function(a,c){b(c,a)})}}};return c.provider("RouteInterceptor",function(){this.$get=["$rootScope","$location","$window","BCPlayer","BCSession",d]}),c}(window,window.angular),function(a){a.config({useNoCache:!1})}(window.ZeroClipboard),function(){setTimeout(function(){$("#loading-mask").css("display","none")},500)}(),function(a){function b(a){return new RegExp("(^|\\s+)"+a+"(\\s+|$)")}function c(a,b){var c=d(a,b)?f:e;c(a,b)}var d,e,f;"classList"in document.documentElement?(d=function(a,b){return a.classList.contains(b)},e=function(a,b){a.classList.add(b)},f=function(a,b){a.classList.remove(b)}):(d=function(a,c){return b(c).test(a.className)},e=function(a,b){d(a,b)||(a.className=a.className+" "+b)},f=function(a,c){a.className=a.className.replace(b(c)," ")}),a.classie={hasClass:d,addClass:e,removeClass:f,toggleClass:c,has:d,add:e,remove:f,toggle:c}}(window);var BTCExchangeRate=function(a,b){this.rate=0;var c=this;this.update=function(){b.get({},function(b){c.rate=b.ask,a.exchange=c.rate,a.$broadcast("exchange-update",c.rate)})},this.update(),setInterval(this.update,6e5)};Application.Services.service("BTCExchangeRate",["$rootScope","Exchange",BTCExchangeRate]);var CurrentGameData=function(a,b,c){this.gameData=[],this.games=c,this.isUpdating=!1,this.updateCurrent=function(){if(!this.isUpdating){this.isUpdating=!0,this.gameData=[];var d=angular.copy(c),e=this,f=function(){var c=d.shift();b.current({game:c},function(b){e.gameData.push(b),a.$broadcast("game-update",c,b),d.length?f():(e.isUpdating=!1,a.$broadcast("all-games-update",e.gameData))})};f()}},this.updateCurrent();var d=this;setInterval(function(){d.updateCurrent()},6e4)};Application.Services.value("games",[1,3,7,9,15]),Application.Services.service("CurrentGameData",["$rootScope","Games","games",CurrentGameData]);var api="https://p-api.betcoin.tm\\:8443";Application.Services.constant("PlayerApi",{hostname:"api.betcoin.tm",port:"441",protocol:"https"}),Application.Services.factory("Games",["$resource",function(a){return a(api+"/games/:game/:search",{},{current:{method:"GET",params:{search:"current"}},recent:{method:"GET",params:{search:"recent"},isArray:!0},addressSearch:{method:"GET",params:{game:"address"},isArray:!0},txidSearch:{method:"GET",params:{game:"txid"},isArray:!0},history:{method:"GET",params:{search:"history",game:"all"},isArray:!0}})}]),Application.Services.factory("Totals",["$resource",function(a){return a(api+"/games/totals/:game")}]),Application.Services.factory("Exchange",["$resource",function(a){return a(api+"/exchangerate")}]),Application.Services.factory("BetAddresses",["$resource",function(a){return a(api+"/addresses")}]),angular.module("application").run(["$templateCache",function(a){a.put("tpl/code.html","<pre style=\"font-size:7pt;\">\nvar getWinner = function(gameData) {\n    var ticketBin = [];\n    var hmac = crypto.createHmac('sha512', gameData._id);\n    gameData.bets.forEach(function(bet) {\n        for(var i = 0; i < bet.tickets; i++) {\n            ticketBin.push(bet.playerAddress);\n        }\n        hmac.update(bet.txid);\n    });\n    logger.log('info', '%d tickets', ticketBin.length);\n    var gameHash = hmac.digest('hex');\n    var lucky = NaN;\n    var partial = \"\";\n    var winIndex = -1;\n    var powerFound = false;\n    for (var power = 1; powerFound === false; power++) {\n        var maxroll = Math.pow(16, power);\n        if (maxroll >= ticketBin.length) {\n            partial = gameHash.substring(0, power);\n            lucky = parseInt(partial, 16);\n            winIndex = Math.floor((ticketBin.length / maxroll) * lucky);\n            powerFound = true;\n        }\n    }\n    logger.log('info', 'power: %d, partial: %s', power - 1, partial);\n    return {\n        player: ticketBin[winIndex],\n        hash: gameHash,\n        partial: partial,\n        index: winIndex\n    };\n};\n</pre>"),a.put("tpl/directives/game-chart.html",'<div>\n    <highchart config="chartConfig"></highchart>\n</div>\n'),a.put("tpl/directives/game-counter.html",'\n<div class="row">\n\n    <div class="col-6 col-lg-6 column-bottom">\n        <div class="counter counter-left">\n            <div class="counter-numbers">฿ {{ gamedata.totalPayout | btctwo }} BTC</div>\n            <div class="counter-subtitle" style="margin-top:-1px;">$ {{ gamedata.totalPayout | btcusd:exchange}} USD</div>\n            <div class="counter-title"><a style="color:#D6AE58;text-decoration:none;" ng-href="http://blockchain.info/address/{{gamedata.payoutAddress}}" target="_blank">Jackpot</a></div>               \n        </div>\n    </div>\n\n    <div class="col-6 col-lg-6 column-bottom">\n        <div class="counter counter-right">\n            <div class="counter-numbers">\n                <span ng-show="timers[gamedata.game].daysLeft > 0">{{ timers[gamedata.game].daysLeft }} <span ng-show="timers[gamedata.game].daysLeft > 1"><span class="days">Days</span> </span> <span ng-hide="timers[gamedata.game].daysLeft > 1"><span class="days">Day</span> </span> </span>\n                {{ timers[gamedata.game].timeString }}</div>\n            <div class="counter-subtitle" style="margin-top:-1px;">1 BTC = $ {{exchange | noFractionCurrency}} USD</div>\n            <div class="counter-title">Time Left</div>\n        </div>\n    </div>\n</div>    \n          \n'),a.put("tpl/directives/game-detail.html",'<div>\n    <div ng-hide="gamedata" class="alert alert-info">Loading</div>\n    <div ng-show="gamedata">\n        <h3>Game {{ gamedata.game }} @ {{ gamedata.start | date:\'M/d/yy HH:mm:ss\' }} ({{ gamedata._id }})</h3>\n        <h1><b>Jackpot: </b>{{ gamedata.totalPayout | btc }} BTC</h1>\n        <p><b>Payout Address: </b>{{ gamedata.payoutAddress }}</p>\n        <p><b>Start: </b>{{ gamedata.start | date:\'M/d/yy HH:mm:ss\' }}</p>\n        <p><b>End</b>: {{ gamedata.end | date:\'M/d/yy HH:mm:ss\' }}</p>\n        <p><b>Tickets: </b>{{ gamedata.ticketCount | number }}</p>\n        <div class="alert alert-danger" ng-show="gamedata.payout.prepared && ! gamedata.payout.sent">Payout Pending</div>\n        <div class="alert alert-success" ng-show=\'gamedata.payout.sent\'>\n            <p><b>Winner: </b>{{ gamedata.winData.player }}</p>\n            <p><b>Game Hash: </b>{{ gamedata.winData.hash }}</p>\n            <p><b>Hash Partial: </b>{{ gamedata.winData.partial }}</p>\n            <p><b>Ticket Index: </b>{{ gamedata.winData.index | number }}</p>\n            <p><b>Payout TxID: </b>{{ gamedata.payout.txid }}</p>\n            <p><b>Payout Amount: </b>{{ gamedata.payout.amount | btc }} BTC</p>\n            <p><b>Payout Sent: </b>{{ gamedata.payout.sent | date:\'M/d/yy HH:mm:ss\' }}</p>\n        </div>\n\n        <div class="hidden-sm hidden-xs ">\n            <gamechart gamedata="gamedata"></gamechart>\n        </div>\n        <h4>Bets</h4>\n        <table class="table table-striped">\n            <tr>\n                <th>Date</th>\n                <th>TXID</th>\n                <th>Tickets</th>\n                <th>To Jackpot (BTC)</th>\n            </tr>\n            <tr ng-repeat="bet in gamedata.bets">\n                <td>{{ bet.date | date:\'M/d/yy HH:mm:ss\' }}</td>\n                <td><txid searchterm="{{ bet.txid }}"></txid></td>\n                <td>{{ bet.tickets | number }}</td>\n                <td>{{ bet.toPayout | btc }}</td>\n            </tr>\n        </table>\n    </div>\n</div>\n'),a.put("tpl/directives/game-table-analytics.html",'<div>\n\n\n\n    <div ng-hide="games" class="alert alert-info">Loading</div>\n    <div ng-show="games">\n\n        <div ng-repeat="gamedata in games">\n            <div class="row bottom-wrap">\n\n              <div class="col-3 col-lg-3">\n                    <img src="/prize/{{cupimages[gamedata.game]}}" style="width:200px;"/>\n              </div>\n\n\n              <div class="col-9 col-lg-9">\n                <div class="row">\n                    <div class="col-4 col-lg-4">\n                        <h2>{{ gamedata.game }} Day </h2>    \n\n                        <a ng-href="game-detail/{{ gamedata._id }}" class="btn btn-xs btn-primary">Details</a>       \n                    </div>\n\n                    <div class="col-8 col-lg-8">\n                        <div class="row">\n                            <div class="col-6 col-lg-6 column-bottom">\n                                <div class="counter counter-left">\n                                    <div class="counter-numbers">฿ {{(gamedata.ticketCount*0.001) | btc }} BTC</div>\n                                    <div class="counter-subtitle" style="margin-top:-1px;">$ {{(gamedata.ticketCount*0.001*exchange) | noFractionCurrency}} USD</div>\n                                    <div class="counter-title">Jackpot</div>               \n                                </div>\n                            </div>\n\n                            <div class="col-6 col-lg-6 column-bottom">\n                                <div class="counter counter-right">\n                                    <div class="counter-numbers">{{ timers[gamedata.game].daysLeft }} Days {{ timers[gamedata.game].timeString }}</div>\n                                    <div class="counter-subtitle" style="margin-top:-1px;">Time Left</div>\n                                    <div class="counter-title">Time Left</div>\n                                </div>\n                            </div>\n                        </div>    \n\n                        <div style=\'text-align:center;\'>\n                   \n                        <h5 style="margin:20px auto;"><span style="color:#EE0000;">Buy Tickets with Bitcoin:</span> {{betAddress(gamedata.game)}}</h5>    \n                        <p>Jackpot: <a href="http://blockchain.info/address/{{gamedata.payoutAddress}}">{{gamedata.payoutAddress}}</a></p>   \n\n                        </div>              \n                    </div>\n                </div>\n              </div>  \n                 \n            </div>\n        </div>\n\n\n        <table class="table">\n            <thead>\n                <tr>\n                    <th>Game</th>\n                    <th>Start</th>\n                    <th>End</th>\n                    <th>Bets</th>\n                    <th>Tickets</th>\n                    <th>Payout (BTC)</th>\n                    <th>House Rake (BTC)</th>\n                    <th>Affiliate Rake (BTC)</th>\n                    <th>Prize Rake (BTC)</th>\n                    <th>Total Rake (BTC)</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat="gamedata in games" ng-class="rowClass(gamedata)">\n                    <td>\n                        {{ gamedata.game }}\n                        <a ng-href="game-detail/{{ gamedata._id }}" class="btn btn-xs btn-primary">Details</a>\n                    </td>\n                    <td>{{ gamedata.start | date:\'M/d/yy HH:mm:ss\' }}</td>\n                    <td>{{ gamedata.end | date:\'M/d/yy HH:mm:ss\' }}</td>\n                    <td>{{ gamedata.betCount | number }}</td>\n                    <td>{{ gamedata.ticketCount | number }}</td>\n                    <td>{{ gamedata.totalPayout | btc }}</td>\n                    <td>{{ gamedata.totalHouseRake | btc }}</td>\n                    <td>{{ gamedata.totalAffiliateRake | btc}}</td>\n                    <td>{{ gamedata.totalSavingsRake | btc }}</td>\n                    <td>{{ gamedata.totalRake | btc }}</td>\n                    <td>\n                        <button ng-show="gameStatus(gamedata) == \'paid\'" class="btn btn-sm btn-success" data-toggle="modal" data-target="#{{ gamedata._id }}-modal">Payout Info</button>\n                        <span class="label label-danger" ng-show="gameStatus(gamedata) == \'pending\'">Payout Pending</span>\n                        <span class="label label-primary" ng-show="gameStatus(gamedata) == \'current\'">In Progress</span>\n                        <span class="label label-danger" ng-show="gameStatus(gamedata) == \'processing\'">Processing</span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <div ng-repeat="gamedata in games" class="modal" id="{{ gamedata._id }}-modal" tabindex="-1" role="dialog" aria-labelledby="{{ gamedata._id }}" aria-hidden=true>\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n                        <h4 class="modal-title" id="myModalLabel">{{ gamedata._id }} Payout Info</h4>\n                    </div>\n                    <div class="modal-body">\n                        <p><b>Winner: </b>{{ gamedata.winData.player }}</p>\n                        <p><b>Game Hash: </b>{{ gamedata.winData.hash }}</p>\n                        <p><b>Hash Partial: </b>{{ gamedata.winData.partial }}</p>\n                        <p><b>Ticket Index: </b>{{ gamedata.winData.index | number }}</p>\n                        <p><b>Payout TxID: </b>{{ gamedata.payout.txid }}</p>\n                        <p><b>Payout Amount: </b>{{ gamedata.payout.amount | btc }} BTC</p>\n                        <p><b>Payout Sent: </b>{{ gamedata.payout.sent | date:\'M/d/yy HH:mm:ss\' }}</p>\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("tpl/directives/game-table.html",'<div>\n  <div ng-hide="gamedata" class="alert alert-info">Loading</div>\n  <div ng-show="gamedata" class="gamedata">\n    <div class="row bottom-wrap panel">\n\n\n      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-5 col-lg-offset-1">\n        <div class="row">\n          <div class="col-xs-7 img" style="margin-top:15px;">\n            <img class="img-responsive" ng-src="./{{cupimages[gamedata.game]}}"/>\n          </div>\n          <div class="col-xs-5 info">\n            <h2>{{ gamedata.game }} Day </h2>\n            <h4>\n              <span ng-show="gamedata.game == 1">Bronze Prize</span>\n              <span ng-show="gamedata.game == 3">Silver Prize</span>\n              <span ng-show="gamedata.game == 7">Gold Prize</span>\n              <span ng-show="gamedata.game == 9">Platinum Prize</span>\n              <span ng-show="gamedata.game == 15">Diamond Prize</span>\n            </h4>\n            <div style="margin:15px 0px;">\n              <a ng-href="game-detail/{{ gamedata._id }}" class="btn btn-sm btn-primary">Details</a>\n              <button ng-show="gameStatus(gamedata) == \'paid\'" class="btn btn-sm btn-success" data-toggle="modal" data-target="#{{ gamedata._id }}-modal">Payout Info</button>\n              <span class="label label-danger" ng-show="gameStatus(gamedata) == \'pending\'">Payout Pending</span>\n              <span class="label label-primary" ng-show="gameStatus(gamedata) == \'current\'">In Progress</span>\n              <span class="label label-danger" ng-show="gameStatus(gamedata) == \'processing\'">Processing</span>\n            </div>\n            <div style="margin:10px 0px;">\n                <a ng-click="sendBitcoins(gamedata.address)"  class="btn btn-sm btn-success"><img style="width:35px;" src="img/multibit-med.png"/></a>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col-xs-12 col-sm-6 col-md-6 col-lg-5">\n          <gamecounter gamedata="gamedata"></gamecounter>\n          <div style=\'text-align:center;\'>\n          <h2 style="color:#EE0000;margin-top:4px;">Buy Tickets with Bitcoin</h2><h4>\n              <a style="color:#D6AE58;text-decoration:underline;"  ng-click="sendBitcoins(gamedata.address)">{{gamedata.address}}</a>\n            </h4>\n          </div>\n      </div>\n\n\n    </div>\n\n    <div class="modal" id="{{ gamedata._id }}-modal" tabindex="-1" role="dialog" aria-labelledby="{{ gamedata._id }}" aria-hidden=true>\n      <div class="modal-dialog">\n        <div class="modal-content">\n          <div class="modal-header">\n            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n            <h4 class="modal-title" id="myModalLabel">{{ gamedata._id }} Payout Info</h4>\n          </div>\n          <div class="modal-body">\n            <p><b>Winner: </b>{{ gamedata.winData.player }}</p>\n            <p><b>Game Hash: </b>{{ gamedata.winData.hash }}</p>\n            <p><b>Hash Partial: </b>{{ gamedata.winData.partial }}</p>\n            <p><b>Ticket Index: </b>{{ gamedata.winData.index | number }}</p>\n            <p><b>Payout TxID: </b>{{ gamedata.payout.txid }}</p>\n            <p><b>Payout Amount: </b>{{ gamedata.payout.amount | btc }} BTC</p>\n            <p><b>Payout Sent: </b>{{ gamedata.payout.sent | date:\'M/d/yy HH:mm:ss\' }}</p>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div class="modal" id="{{ gamedata._id }}-qrmodal" tabindex="-1" role="dialog" aria-labelledby="{{ gamedata._id }}" aria-hidden=true>\n      <div class="modal-dialog qr-modal">\n        <div class="modal-content">\n          <div class="modal-header">\n            <h2>{{ gamedata.game }} Day </h2>\n            <h6><a style="color:#D6AE58;text-decoration:underline;"  ng-href="bitcoin:{{gamedata.address}}">{{gamedata.address}}</a></h6>\n          </div>\n          <div class="modal-body">\n            <img src="./img/qr{{gamedata.game}}.png" style="width:260px;"/>\n          </div>\n          <div class="modal-footer">\n            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n\n'),a.put("tpl/directives/history-table.html",'<div>\n    <div ng-hide="games" class="alert alert-info">Loading</div>\n    <div ng-show="games">\n        <table class="table">\n            <thead>\n                <tr>\n                    <th>Drawing</th>\n                    <th>Start</th>\n                    <th>End</th>\n                    <th>Bets</th>\n                    <th>Tickets</th>\n                    <th>Payout Amount: </th>\n                    <th>Status</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr ng-repeat="gamedata in games" ng-class="rowClass(gamedata)">\n                    <td>\n                        {{ gamedata.game }}\n                        <a ng-href="game-detail/{{ gamedata._id }}" class="btn pull-right btn-xs btn-primary">Details</a>\n                    </td>\n                    <td>{{ gamedata.start | date:\'M/d/yy HH:mm:ss\' }}</td>\n                    <td>{{ gamedata.end | date:\'M/d/yy HH:mm:ss\' }}</td>\n                    <td>{{ gamedata.betCount | number }}</td>\n                    <td>{{ gamedata.ticketCount | number }}</td>\n                    <td>{{ gamedata.totalPayout | btc }}</td>\n                    <td>\n                        <button ng-show="gameStatus(gamedata) == \'paid\'" class="btn btn-sm btn-success" data-toggle="modal" data-target="#{{ gamedata._id }}-modal">Payout Info</button>\n                        <span class="label label-danger" ng-show="gameStatus(gamedata) == \'pending\'">Payout Pending</span>\n                        <span class="label label-primary" ng-show="gameStatus(gamedata) == \'current\'">In Progress</span>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n        <div ng-repeat="gamedata in games" class="modal" id="{{ gamedata._id }}-modal" tabindex="-1" role="dialog" aria-labelledby="{{ gamedata._id }}" aria-hidden=true>\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>\n                        <h4 class="modal-title" id="myModalLabel">{{ gamedata._id }} Payout Info</h4>\n                    </div>\n                    <div class="modal-body">\n                        <p><b>Winner: </b>{{ gamedata.winData.player }}</p>\n                        <p><b>Game Hash: </b>{{ gamedata.winData.hash }}</p>\n                        <p><b>Hash Partial: </b>{{ gamedata.winData.partial }}</p>\n                        <p><b>Ticket Index: </b>{{ gamedata.winData.index | number }}</p>\n                        <p><b>Payout TxID:</b>{{ gamedata.payout.txid }}</p>\n                        <p><b>Payout Amount: </b>{{ gamedata.payout.amount | btc }} BTC</p>\n                        <p><b>Payout Sent: </b>{{ gamedata.payout.sent | date:\'M/d/yy HH:mm:ss\' }}</p>\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("tpl/directives/totals.html",'<div>\n    <div ng-hide="totals && exchange" class="alert alert-info">Loading</div>\n    <div class="row" ng-show="totals && exchange">\n        <div class="col-md-4">\n            <div class="panel panel-primary">\n                <div class="panel-heading">Bets</div>\n                <div class="panel-body">{{ totals.bets | number }}</div>\n            </div>\n        </div>\n        <div class="col-md-4">\n            <div class="panel panel-primary">\n                <div class="panel-heading">Tickets</div>\n                <div class="panel-body">{{ totals.tickets | number }}</div>\n            </div>\n        </div>\n        <div class="col-md-4">\n            <div class="panel panel-primary">\n                <div class="panel-heading">Payouts (1 BTC = {{ exchange | currency }})</div>\n                <div class="panel-body">{{ totals.payout | btc | number:0 }} BTC | {{ (totals.payout / 100000000) * exchange | currency }}</div>\n            </div>\n        </div>\n    </div>\n</div>\n'),a.put("tpl/error404.html",'<div class="container">\n    <h3>Oops, nothing found here</h3>\n    <a class="btn btn-primary btn-lg" href="">Try the home page</a>\n</div>\n'),a.put("tpl/game-detail.html",'<div>\n    <gamedetail gamedata="gamedata"></gamedetail>\n</div>\n'),a.put("tpl/history.html",'<div>\n    <historytable games="games"></historytable>\n</div>\n'),a.put("tpl/home.html",'<gametable gamedata="currentGames[0]"></gametable>\n<gametable gamedata="currentGames[1]"></gametable>\n<gametable gamedata="currentGames[2]"></gametable>\n<gametable gamedata="currentGames[3]"></gametable>\n<gametable gamedata="currentGames[4]"></gametable>\n\n'),a.put("tpl/howtoplay-cn.html",'\n<h2><b>重要提示：请勿使用混合式比特币钱包购买彩票!</b></h2>\n<p>使用钱包时，必须确定该钱包能从送出比特币所用地址收到比特币。如果不能确定，请购买一张具有确认功能的彩票。如果收不到确认交易，则您的钱包不兼容。请注意，本系统处理彩票之前先需要经过比特币网络确认购买彩票交易。</p>\n<p><br></p>\n<h4>若您还没有比特币钱包，我们推荐以下可靠的钱包供应商：</h4>\n<br />\n<ul><li><h1><a rel="nofollow" target="_blank" href="http://blockchain.info">Blockchain.info</a> (web based)</h1></li>\n<li><h1><a rel="nofollow" target="_blank" href="https://multibit.org">Multibit</a> (software)</h1></li>\n<li><h1><a rel="nofollow" target="_blank" href="https://electrum.org/">Electrum</a> (software)</h1></li>\n<li><h1><a rel="nofollow" target="_blank" href="https://coinbase.com/">Coinbase</a> (web based)</h1></li>\n<li><h1><a rel="nofollow" target="_blank" href="https://bitcoinarmory.com/">Armory</a> (software)</h1></li></ul>    \n<h3>最低交易金额</h3>\n<h5>0.001比特币。低于此金额的交易将不予处理或退回！</h5>\n<h5>0.00105460比特币。</h5>\n<h3>彩票价格每张82%。</h3>\n<p>头奖包括比特币彩票销售总额的82%及奖池种子。</p>\n<p>: 每天可获得免费比特币</p>\n<p>抽奖系统将每天发送0.1比特币至每项抽奖头奖地址。奖池种子将赏给每项抽奖头奖赢家。譬如，15日白金奖奖池种子总额为1.5比特币（即15日＊0.1比特币。3日白银奖奖池种子总额为0.3比特币（即3日＊0.1比特币。</p>\n<h3>排行榜奖励</h3>\n<p>每项比特币抽奖彩票销售总额的3%将分给购买彩票额最大的100个玩家。若参与抽奖的玩家人数不到100个，则此项比特币抽奖彩票销售总额的3%将分给购买彩票所有的玩家，具体份额根据购买彩票金额大小而定。譬如，参与抽奖的玩家人数为50人，彩票销售总额为100比特币，一位玩家购买彩票金额为50比特币即彩票销售总额的50%，其排行榜奖励为(100BTC*3%)*50%=1.5BTC。若排行榜奖励金额小于比特币网络最小可发送金额即0.00005460比特币，则排行榜奖励不予发送。</p>\n<h3>如何购买比特币彩票及参与比特币抽奖</h3>\n<ul>\n  <li>请选择抽奖项目: 每日青铜奖, 三日白银奖, 七日黄金奖, 九日铂金奖或者十五日钻石奖。</li>\n  <li>每张彩票价格为0.001比特币。请将用于购买彩票的比特币以0.001增量值发送至该抽奖项目的奖池比特币地址。若您需要收到处理彩票确认交易请购买彩票时在交易中另加至少0.00005460比特币。</li>\n  <li>请实时观看头奖金额增长，等待抽奖结果。你的赢取的奖金将会自动发送至您的比特币钱包地址。</li>\n</ul>\n<p><br></p>\n<h3>单笔交易购买多张比特币彩票</h3>\n<p>单笔交易可购买多张比特币彩票。譬如，欲购买10张一日青铜奖彩票时，请将0.01比特币发送至 1Prize1WfNVLyQFF3rmwFGkrmBMrgtBZYo一日青铜奖奖池地址。</p>\n<h4>如何收到彩票处理确认交易</h4>\n<p>若您需要收到处理彩票确认交易请购买彩票时在交易中另加至少0.00005460比特币，您的彩票被处理之后此多余的金额将返还至您的比特币钱包地址。</p>\n<h3>抽奖结果每日于格林威治标准时间(GMT)零时公布</h3>\n<p>抽奖系统判断抽奖结果时首先由所有购买彩票交易代码(Tx ID)生成hmac哈希，此后将此hmac哈希与游戏代码(Game ID)合并生成新的哈希值。此哈希的前段可用于选择所有购买彩票交易代码的最小Hex值就是”幸运号码“。”幸运号码“用于选择赢取头奖的彩票指数。</p>\n<p>彩票交易处理</p>\n<p>所有的彩票以标准比特币交易所允许的最快的速度处理。彩票处理时确认交易将发送至头奖地址。</p>\n<h3>截止时间</h3>\n<p>请在抽奖结束至少12小时前购买彩票以确保您所购买的彩票交易可以及时处理！ 购买彩票交易经过比特币网络4次确认之后，其将处理并加至低4次确认时正在进行的抽奖。若您的彩票在截止时间之后才经过第4次确认并开始由系统处理，则您的彩票将参与同一抽奖项目的下期抽奖。</p>\n<h3>奖池地址与购票地址的区别</h3>\n<p>每项抽奖的售票比特币地址显示于财神奖™网页，而此地址用于购买比特币抽奖彩票。头奖比特币钱包 地址链接指向该比特币地址即用于支付此项抽奖的头奖赢家比特币钱包的blockchain.info网页，以便实时确定头奖金额。千万不要将购买彩票用的比特币发送至头奖地址，发送至头奖地址的交易将不予处理！</p>\n<p>交易款项聚集及奖金支付</p>\n<p>抽奖过程中系统奖发送至奖池的款项定期聚集以便将头奖以单笔交易方式支付给头奖赢家。款项聚集过程中的交易费将由财神堂支付。</p>\n<p>有时候进行将款项聚集交易过程中blockchain.info网页所显示的头奖地址余款金额与本网站所显示的头奖总额不完全一致。所显示的差距将在款项聚集交易以及其所聚集的交易经过比特币网络确认后消失。</p>\n<h3>如何验证赢家选择是随机产生的结果</h3>\n<h3>可以使用以下node.js脚本验证抽奖结果：</h3>\n\n'),a.put("tpl/howtoplay-en.html",'    <h2><b>Warning! Do Not Use a Shared Wallet to Buy Tickets!</b></h2>\n    <p>Only use wallets that allow you to receive Bitcoin from the same address you sent from. If you\'re not sure, purchase a confirmation-enabled ticket. If you get no response, your wallet is not compatible. Note that tickets require confirmations before processing.</p>\n\n    <h4>Don\'t have a Bitcoin wallet yet? We recommend:</h4>\n    <ul><li><h1><a rel="nofollow" target="_blank" href="http://blockchain.info">Blockchain.info</a> (web based)</h1></li>\n    <li><h1><a rel="nofollow" target="_blank" href="https://multibit.org">Multibit</a> (software)</h1></li>\n    <li><h1><a rel="nofollow" target="_blank" href="https://electrum.org/">Electrum</a> (software)</h1></li>\n    <li><h1><a rel="nofollow" target="_blank" href="https://coinbase.com/">Coinbase</a> (web based)</h1></li>\n    <li><h1><a rel="nofollow" target="_blank" href="https://bitcoinarmory.com/">Armory</a> (software)</h1></li></ul>    \n    \n    <h4>Minimum Transaction Size</h4>\n    <h5>0.001 BTC is the minimum transaction amount. Lesser amounts will not be processed or returned!</h5>\n    <h5>0.00105460 BTC is the minimum transaction amount for confirmation-enabled transactions.</h5>    \n<br />\n    <h4>Tickets cost 0.001 BTC each. The main jackpot is 82%</h4>\n \n    <p>The main jackpot is comprised of 82% of ticket purchases, plus the jackpot seed.</p>\n    <br />\n    <h4>Jackpot Seed: Free BTC Every Day</h4>\n   <p>Each day, 0.1 BTC is sent to the jackpot address for every lottery. The Jackpot Seed is rewarded to the winner of each lottery. For example, the 15-day Diamond Prize Jackpot Seed is a total of 0.1 BTC * 15 days or 1.5 BTC. The 3-day Silver Prize Jackpot Seed is 0.1 BTC * 3 days or 0.3 BTC.</p>\n<br />\n    <h4>Leaderboard Bonus</h4>\n    <p>3% of the total sales for every lottery prize drawing is distributed among the 100 players who bought the most tickets. If there are fewer than 100 players, the 3% is distributed amongst all the players who bought tickets for each drawing.</p>\n<br />\n\n    <h4>How to Play</h4>\n    <ul><li>Select a prize: 1-day Bronze, 3-day Silver, 7-day Gold, 9-day Platinum, or 15-day Diamond</li>\n    <li>Buy any number of tickets by sending Bitcoin to the addresses below in increments of 0.001 BTC, plus any amount above 0.00005460 to receive a confirmation transaction</li>\n    <li>Wait for your prize to be drawn, watch the jackpot grow. Your winnings will be automatically sent to your wallet</li>\n<br />\n    <h4>Buy Multiple Tickets</h4>\n    <p>Multiple tickets can be purchased with one transaction. For example, to buy 10 tickets for the 1 day lottery, send 0.01 BTC to 1Prize1WfNVLyQFF3rmwFGkrmBMrgtBZYo. </p>\n    <br />\n    <h4>How to Receive a Confirmation Transaction</h4>\n    <p>If you would like to receive confirmation of your tickets being processed, send an additional amount of at least 0.00005460 with your ticket purchase, and it will be retuned to you during ticket processing.</p>\n    <br />\n    <h4>Prizes are drawn at Midnight GMT</h4>\n    <p>When the prize drawing occurs, the game winner is selected by creating an hmac hash of the transaction IDs from all of the transactions which were used to purchase tickets, hashed with the game ID. The smallest hex value that will allow selection from all purchased tickets is used from the front of the resulting hash. This "lucky number" is used to select an index from among the purchased tickets.</p>    \n\n    <br />\n    <h4>Ticket Processing</h4>\n    <p>We process tickets as soon as it\'s possible to do so using a standard Bitcoin transaction. When ticket processing occurs, a confirmation transaction is sent to the jackpot address.</p>\n\n    <br />\n    <h4>Cut-Off Time</h4>\n    <p><b><em>Buy your tickets at least 12 hours before the end of a lottery to ensure it is processed!</em></b> Once your ticket purchase has reached 4 confirmations, it will be added to the currently active lottery <em>at the time of processing.</em> If your tickets are processed after the cut-off time for your lottery drawing, they will be applied to the next lottery drawing.</p> \n\n    <br />\n    <h4>Jackpot vs. Ticket Addresses</h4>\n    <p>The ticket address for a game is listed on the home page, and this is the address used to buy tickets for that lottery. The link to the jackpot address directs to the blockchain.info page for the address being used by the running lottery to payout the winning ticket holder. <b>Do <em>NOT</em> send BTC to the jackpot address, it will not be processed!</b>.</p>\n\n    <br />\n    <h4>Consolidation and Payouts</h4>\n    <p>Periodically throughout the game period, the transactions sent to the jackpot will be consolidated so that the winner can be paid in a single transaction. The fees used for this come out of the house rake.</p>\n    <p>In some cases, when a consolidation transaction is made, the balance on the blockchain.info page for the jackpot address may appear to be different than the listed jackpot on our home page. The discrepancy should only last until the consolidation transaction (and the transactions it consolidated) have been confirmed</p>\n    <h4>How to Prove the Winner Was Selected at Random</h4>\n    <p>The following node.js script can be used to validate prize drawing data:</p>'),a.put("tpl/howtoplay.html",'<div id="proof">\n    <div data-ng-include data-src="\'tpl/howtoplay-en.html\'"></div>\n    <div data-ng-include data-src="\'tpl/code.html\'"></div>\n</div>\n'),a.put("tpl/howtoplaytop.html",'    <h3>Warning! Do Not Use a Shared Wallet to Buy Tickets!</h3>\n    <p>Only use wallets that allow you to receive Bitcoin from the same address you sent from. If you\'re not sure, purchase a confirmation-enabled ticket. If you get no response, your wallet is not compatible. Note that tickets require confirmations before processing.</p>\n\n    <h4>Don\'t have a Bitcoin wallet yet? We recommend:</h4>\n    <ul><li><h1><a rel="nofollow" target="_blank" href="http://blockchain.info">Blockchain.info</a></h1></li>\n    <li><h1><a rel="nofollow" target="_blank" href="https://multibit.org">Multibit</a></h1></li></ul>\n    \n    <h3>Minimum Transaction Size</h3>\n    <h5>0.001 BTC is the minimum transaction amount. Lesser amounts will not be processed or returned!</h5>\n    <h5>0.00105460 BTC is the minimum transaction amount for confirmation-enabled transactions.</h5>    \n\n    <h3>Tickets cost 0.001 BTC each. The main jackpot is 82%</h3>\n \n    <p>The main jackpot is comprised of 82% of ticket purchases, plus the jackpot seed.</p>\n    <h3>Jackpot Seed: Free BTC Every Day</h3>\n   <p>Each day, 0.1 BTC is sent to the jackpot address for every lottery. The Jackpot Seed is rewarded to the winner of each lottery. For example, the 15-day Diamond Prize Jackpot Seed is a total of 0.1 BTC * 15 days or 1.5 BTC. The 3-day Silver Prize Jackpot Seed is 0.1 BTC * 3 days or 0.3 BTC.</p>\n\n    <h3>Leaderboard Bonus</h3>\n    <p>3% of the total sales for every lottery prize drawing is distributed among the 100 players who bought the most tickets. If there are fewer than 100 players, the 3% is distributed amongst all the players who bought tickets for each drawing.</p>\n\n\n    <h3>How to Play</h3>\n    <ul><li>Select a prize: 1-day Bronze, 3-day Silver, 7-day Gold, 9-day Platinum, or 15-day Diamond</li>\n    <li>Buy any number of tickets by sending Bitcoin to the addresses below in increments of 0.001 BTC, plus any amount above 0.00005460 to receive a confirmation transaction</li>\n    <li>Wait for your prize to be drawn, watch the jackpot grow. Your winnings will be automatically sent to your wallet</li>\n\n    <h3>Buy Multiple Tickets</h3>\n    <p>Multiple tickets can be purchased with one transaction. For example, to buy 10 tickets for the 1 day lottery, send 0.01 BTC to 1Prize1WfNVLyQFF3rmwFGkrmBMrgtBZYo. </p>\n    <h4>How to Receive a Confirmation Transaction</h4>\n    <p>If you would like to receive confirmation of your tickets being processed, send an additional amount of at least 0.00005460 with your ticket purchase, and it will be retuned to you during ticket processing.</p>\n    <h3>Prizes are drawn at Midnight GMT</h3>\n    <p>When the prize drawing occurs, the game winner is selected by creating an hmac hash of the transaction IDs from all of the transactions which were used to purchase tickets, hashed with the game ID. The smallest hex value that will allow selection from all purchased tickets is used from the front of the resulting hash. This "lucky number" is used to select an index from among the purchased tickets.</p>    \n\n\n    <h3>Ticket Processing</h3>\n    <p>We process tickets as soon as it\'s possible to do so using a standard Bitcoin transaction. When ticket processing occurs, a confirmation transaction is sent to the jackpot address.</p>\n\n    <h3>Cut-Off Time</h3>\n    <p><b><em>Buy your tickets at least 12 hours before the end of a lottery to ensure it is processed!</em></b> Once your ticket purchase has reached 4 confirmations, it will be added to the currently active lottery <em>at the time of processing.</em> If your tickets are processed after the cut-off time for your lottery drawing, they will be applied to the next lottery drawing.</p> \n\n    <h3>Jackpot vs. Ticket Addresses</h3>\n    <p>The ticket address for a game is listed on the home page, and this is the address used to buy tickets for that lottery. The link to the jackpot address directs to the blockchain.info page for the address being used by the running lottery to payout the winning ticket holder. <b>Do <em>NOT</em> send BTC to the jackpot address, it will not be processed!</b>.</p>\n\n    <h3>Consolidation and Payouts</h3>\n    <p>Periodically throughout the game period, the transactions sent to the jackpot will be consolidated so that the winner can be paid in a single transaction. The fees used for this come out of the house rake.</p>\n    <p>In some cases, when a consolidation transaction is made, the balance on the blockchain.info page for the jackpot address may appear to be different than the listed jackpot on our home page. The discrepancy should only last until the consolidation transaction (and the transactions it consolidated) have been confirmed</p>\n    <h3>How to Prove the Winner Was Selected at Random</h3>\n    <p>The following node.js script can be used to validate prize drawing data:</p>'),a.put("tpl/search.html",'<div class="tab-content">\n    <div style="margin-bottom:20px;">\n        <form class="form-inline" role="form" ng-submit="executeSearch()">\n            <div class="form-group">\n                <label class="sr-only" for="search-query">Search Query</label>\n                <input type="text" class="form-control" id="search-query" ng-model="search" placeholder="Enter Search Value" required />\n            </div>\n            <div class="form-group">\n                <select name="searchType" class="form-control" ng-model="searchType">\n                    <option value="address">Address</option>\n                    <option value="txid">TXID</option>\n                    <option value="gameid">Game ID</option>\n                </select>\n            </div>\n            <button type="submit" class="btn btn-primary">Search</button>\n        </form>\n    </div>\n    <div ng-show="prizeSearchLoading" class="alert alert-info"><p>Searching</p></div>\n    <div ng-show="error" class="alert alert-danger">{{searchkey}}Result not found!</div>\n    <div ng-show="message" class="alert alert-info">Enter a search value in the field above</div>\n    \n    <div ng-show="searchType == \'address\' && results.address.length">\n        <historytable games="results.address"></historytable>\n    </div>\n    <div ng-show="searchType == \'txid\' && results.txid.length">\n        <historytable games="results.txid"></historytable>\n    </div>\n    <div ng-show="searchType == \'gameid\' && results.gameid._id">\n        <gamedetail gamedata="results.gameid"></gamedetail>\n    </div>\n\n</div>\n')
}]),angular.module("application").run(["$templateCache",function(a){a.put("tpl/404.html",'<div>\n    <h3>Oops...</h3>\n    <p>The page you are looking for cannot be found</p>\n    <p>Try the <a href="/">home page</a></p>\n</div>\n'),a.put("tpl/directives/bitcoin-icons.html",'<div>\n    <a ng-click="sendBitcoins(btcAddress)">\n        <img src="img/multibit-mini.png"/>\n    </a>\n</div>\n<!--   QR Modal-->\n<div id="qrModal" class="qc-modal modal fade">\n    <div class="modal-dialog qr-modal">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal">×</button>\n                <div><small>{{btcAddress}}</small></div>\n            </div>\n            <div class="modal-body">\n                <img ng-show="showQR" src="{{qrcodeUrl}}"/>\n            </div>\n            <div class="modal-footer">\n                <button class="btn btn-primary" data-dismiss="modal">Close</button>\n            </div>\n        </div>\n    </div>\n</div>\n<!-- end QR Modal -->'),a.put("tpl/directives/box.html",'<div class="box">\n    <h3 ng-show="title">{{title}}</h3>\n\n    <div ng-transclude class="box-container"></div>\n</div>'),a.put("tpl/directives/client-seed.html",'<div class="input-group">\n    <input type="text" autocomplete="off"  class="form-control seed text-seed" autocorrect="off" data-ng-model="initSeedValue" id="circleSeed" placeholder="Enter Seed for the next spin" required/>\n    <span class="input-group-btn">\n        <button style="margin:0px auto;" class="btn btn-primary" ng-click="setClientSeed()" type="button"></button>\n    </span>\n</div>'),a.put("tpl/directives/gamecounters.html",'<div class="{{scrollClass}}">\n    <div><h4>Bets processed to date:</h4></div>\n    <div><h5>{{ count | number }}</h5></div>\n    <hr/>\n    <div><h4>Total paid out to players:</h4></div>\n    <div><h5>BTC ฿{{ sum | number }}</h5></div>\n    <div>USD {{ exchange * sum | currency }}</div>\n    <hr/>\n    <div>1 BTC = {{ exchange | currency }} USD</div>\n</div>\n'),a.put("tpl/directives/loginanonform.html",'<div class="panel">\n    <div class="panel-body">\n        <h3 class="text-center">Play Anonymously</h3>\n        <div><h6>Enter your main bitcoin wallet address to start playing anonymously right away.</h6><p>Your winnings will be sent to this wallet.</p></div>\n        <form role="form" name="loginFormAnon" ng-submit="loginAnon()">\n            <!-- <div ng-show=\'error != null\' class="alert alert-danger" style="text-align: center;">{{error}}</div> -->\n            <div class="form-group col-xs-12 {{inline?\'col-sm-8\':\'\'}}">\n                <!-- <label for="" class="control-label"></label> -->\n                <input type="text" autocorrect="off" autocapitalize="off" class="form-control input-lg" name="anonAddress" ng-model="anonAddress" required/>\n            </div>\n            <div class="form-group col-xs-12 {{inline?\'col-sm-4\':\'\'}}">\n                <button type="submit" class="btn btn-lg btn-block btn-lowkey" ng-disabled="loginFormAnon.$invalid"  bc-popover="{{error != null}}">Play Now</button>\n                <div class="errors hide">\n                    <span class="error">{{error}}</span>\n                </div>\n            </div>\n            <!-- <h4></h4>\n            <ul>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n            </ul> -->\n        </form>\n    </div>\n</div>\n'),a.put("tpl/directives/loginform.html",'<form role="form" class="form" name="loginForm">\n    <div class="form-group" ng-show="loginAddress == null">\n        <label for="" class="control-label">Enter Your Username or BTC Wallet Address</label>\n        <input type="text" autocorrect="off" autocapitalize="off" class="form-control" ng-model="loginAlias" ng-required="loginAddress==null" />\n    </div>\n    <div class="form-group" ng-show="loginAddress != null">\n        <label for="" class="control-label">Enter Your Bitcoin Wallet Address</label>\n        <input type="text" autocorrect="off" autocapitalize="off" class="form-control" ng-model="loginAddress" ng-required="loginAddress!=null" />\n    </div>\n    <div class="form-group">\n        <label for="" class="control-label">Enter Your Password</label>\n        <input type="password" class="form-control" ng-model="loginPassword" required />\n    </div>\n    <div class="form-group">\n        <button ng-click="login()" class="btn btn-primary btn-lg btn-block" ng-disabled="loginForm.$invalid" bc-popover="{{error != null}}" bc-popover-direction="top">Login</button>\n        <div class="errors hide">\n            <span class="error">{{error}}</span>\n        </div>\n        <a href="/signup" class="btn btn-primary btn-lg btn-block">Create New Account</a>\n        <a href="/password/reset" class="btn btn-primary btn-lg btn-block">Reset Password</a>\n    </div>\n</form>\n'),a.put("tpl/directives/notifications.html",'<div class=\'panel\' ng-show="notification">\n	<div class="panel-body">\n		<div class="pull-left" ng-show="notification.type === \'message_sent\'">\n			Message Sent\n		</div>\n		<div class="pull-left" ng-show="notification.type === \'anonymous_upgrade\'">\n			\n		</div>\n        <div  ng-show="notification.type === \'socket_disconnected\'" style="background:black;color:#FFd479;z-index:999999;width:100%;height:100%;position:fixed;top:0;left:0px;text-align:center;outline: 9999px solid rgba(30,0,0,1)">\n            <div style="margin-top:100px">\n             <img src="img/words/betcoin.png" class="img-responsive img-centered">\n             <h3>The current session is disconnected from the server. Please refresh this page to get reconnected.</h3>\n            </div>\n        </div>\n		<a class="close" ng-click="removeNotification()" aria-hidden="true">x</a>\n	</div>\n</div>'),a.put("tpl/directives/page.html",'<div class="loading-overlay" ng-show="loading">\n    <h1>Loading</h1>\n</div>\n<div ng-transclude ng-show="!loading"></div>'),a.put("tpl/directives/redirect_loginform.html",'<div ng-show="home_description">\n    <p>Provably fair, transparent system</p>\n    <p>Ultra-secure design - accounts cannot be hacked</p>\n    <p>Free bitcoin bonuses and rewards</p>\n    <p>The largest INSTANT payouts in the industry</p>\n</div>\n<h3 class="text-center">Login/Register</h3>\n<p>\n    <h6>Enter your main wallet address or an existing or desired username</h6>\n</p>\n<div ng-hide="home_description">\n    <small><p>If you are already registered, this will take you to the game.</p><p>If you don\'t have an account yet, this will start the quick registration process.</p></small>\n</div>\n<form role="form" class="form form-inline" name="loginForm">\n    <div class="form-group col-xs-12 {{inline?\'col-sm-7 col-md-8\':\'\'}}">\n        <input type="text" autocorrect="off" autocapitalize="off" class="form-control input-lg" ng-model="identity" required />\n    </div>\n    <div class="form-group col-xs-12 {{inline?\'col-sm-5 col-md-4\':\'\'}}">\n        <button ng-click="checkAlias()" class="btn btn-lg btn-block btn-flashy" ng-disabled="loginForm.$invalid">Login/Register</button>\n    </div>\n    <div style="padding:5px;" class="form-group col-xs-12"><a href="/password/reset">Forgot Your Password?</a></div>\n</form>\n'),a.put("tpl/directives/submenu.html",'<div class="leftbar" ng-class="isResponsiveHide()? \'hidden-xs hidden-sm\': \'\'">\n    <div class="include-submenu" ng-include = "\'tpl/directives/submenu-anchor.html\'"></div>\n</div>'),a.put("tpl/error404.html","<h1>Page not found!</h1>\n\n<h2>The view you were trying to reach does not exist.</h2>\n"),a.put("tpl/login.html",'<div class="row">\n	<div class="panel col-xs-12 col-md-4 col-md-offset-4">\n		<div class="panel-heading">\n		    <h1>Login</h1>\n		</div>\n		<div class="panel-body">\n			<bc-login on-login="loginSuccess(player)"></bc-login>\n		</div>\n	</div>\n</div>'),a.put("tpl/navigation/footer.html",'\n    <div class="navbar navbar-static-bottom nav-custom-bottom footernav">\n        <ul class="nav navbar-nav">\n            <li><a href=""><img src="img/words/betcoin.png" class="logo" alt="Main Page"/></a></li>\n            <li>\n                <a target="_blank" href="https://www.facebook.com/pages/Betcoin-Entertainment/704812019529889" target="_blank"><img src="img/social_icons/facebook.png" alt="" height="26" width="26"></a>\n            </li>\n            <li>        \n                <a target="_blank" href="http://www.twitter.com/Bet_Coin" target="_blank"><img src="img/social_icons/twitter.png" alt="" height="26" width="26"></a>\n            </li>\n            <li>        \n                <a target="_blank" href="https://plus.google.com/100635322944350118832/posts" target="_blank"><img src="img/social_icons/google_plus.png" alt="" height="26" width="26"></a>\n            </li>       \n        </ul>\n        <ul class="nav navbar-nav hidden-xs pull-right">  \n            <li><a class="textlink" href="http://www.betcoin.tm/terms-conditions" target="_blank">Terms &amp; Conditions</a> </li>\n            <li><a class="textlink" href="http://www.betcoin.tm/blog" target="_blank">Blog</a> </li>\n            <li><a class="textlink" href="http://www.betcoin.tm/press" target="_blank">Press</a> </li>\n            <li><a class="textlink" href="http://www.betcoin.tm/wiki" target="_blank">Wiki</a></li>\n            <li><a class="textlink" href="http://www.betcoin.tm/support" target="_blank">Help</a> </li>\n       </ul>\n        <ul class="nav navbar-nav visible-xs">  \n            <li><a class="textlink" href="http://www.betcoin.tm/terms-conditions" target="_blank">Terms &amp; Conditions</a> </li>\n            <li><a class="textlink" href="http://www.betcoin.tm/blog" target="_blank">Blog</a> </li>\n            <li><a class="textlink" href="http://www.betcoin.tm/press" target="_blank">Press</a> </li>\n            <li><a class="textlink" href="http://www.betcoin.tm/wiki" target="_blank">Wiki</a></li>\n            <li><a class="textlink" href="http://www.betcoin.tm/support" target="_blank">Help</a> </li>\n        </ul>        \n        \n    </div>\n\n'),a.put("tpl/navigation/navigation.html",'<nav class="navbar navbar-default" role="navigation" data-ng-controller="BCAccountController">\n    <div class="navbar-custom">\n        <div class="toolbar-icons">\n                <div class="homelink">\n                    <a target="_blank" href="http://www.betcoin.tm"><img src="img/words/betcoin.png" class="logo" alt="Main Page"/><span></span></a>\n                </div>        \n                <div class="gamelink">\n                    <a target="_blank" href="http://www.betcoin.tm/circle/"><img alt="BetCoin ™ Circle" src="img/iconbar/circle44.png"><span>Circle</span></a>\n                </div>\n                <div class="gamelink">\n                    <a target="_blank" href="http://www.betcoin.tm/dice/"><img alt="Betcoin ™ Dice" src="img/iconbar/dice44.png"><span>Dice</span></a>\n                </div>\n                <div class="gamelink">\n                    <a target="_blank" href="http://www.betcoin.tm/prize/"><img alt="Betcoin ™ Prize" src="img/iconbar/prize44.png"><span>Prize</span></a>\n                </div>\n                <div class="gamelink">\n                    <a target="_blank" href="https://reels.betcoin.tm"><img alt="Betcoin ™ Reels" src="img/iconbar/reels44.png"><span>Reels</span></a>\n                </div>\n                <div class="gamelink">\n                    <a target="_blank" href="https://casino.betcoin.tm"><img alt="Betcoin ™ Casino" src="img/iconbar/casino44.png"><span>Casino</span></a>\n                </div>\n                <div class="infolink">\n                    <a target="_blank" href="http://www.betcoin.tm/new-to-bitcoin">\n                        <img alt="BTC FAQ" src="img/toolbar/bitcoin44.png"/><span>BTC FAQ</span></a>\n                </div>\n                <div class="infolink">\n                    <a target="_blank" href="http://www.betcoin.tm/support">\n                        <img alt="" src="img/toolbar/question44.png"/><span>Help</span></a>\n                </div>\n                <div class="localelink" ng-show="true">\n                    <a class="dropdown-toggle" data-toggle="dropdown" data-target="locale-menu">\n                        <img src="img/flags/flag-us.png" alt="English" >\n                        <span>English</span>\n                    </a>\n                    <ul class="dropdown-menu" id="locale-menu">\n                        <li>\n                            <a target="_blank" href="https://www.betcoin.tm/prize" tabindex="-1">\n                                <img src="img/flags/flag-us.png" alt="English"><span>English</span>\n                            </a>\n                    </li>\n                    <li>\n                        <a target="_blank" href="https://www.caishentang.com/jiang" tabindex="-1">\n                            <img src="img/flags/flag-cn.png" alt="中文"><span>中文</span>\n                        </a>\n                    </li>\n                    </ul>\n                </div>\n            <div class="clearfix"></div>\n        </div>    \n    </div>\n</nav>\n\n'),a.put("tpl/newtobitcoin-cn.html",'<div class="main-container">\n	<div class="panel-body">\n		<div class="row">\n			<div class="panel col-xs-12 col-md-6">\n				<h1>请将比特币汇到以下任何一个游戏地址</h1>\n				<h1>财神将会摔骰子并选择一个1与65536之间的幸运号码</h1>\n				<h1>如果幸运号码大于您所选择的号码您就赢了－快查钱包！</h1>\n				<br />\n				<ol>\n				  <li>收到您的投注后，财神灵™系统将会立即对其进行处理并将赢注奖金汇至您的比特币钱包里。</li>\n				  <li>请输入您的比特币钱包地址或点击“星星”标示以便将您的后他人的投注添加至“我的游戏”当中。添加之后可以筛选您所感兴趣的投注并对其进行实时观察。</li>\n				  <li>“比特币是什么?”</a>以便了解更多</li>\n				</ol>\n				<br />\n				<p>重要提示：请勿使用混合式比特币钱包!</p>\n				<h4>使用钱包时，必须保证该钱包能从送出比特币所用地址收到比特币。如果不能确定，请用最小金额试赌一次。如果什么也收不回来，则您的钱包不兼容。请注意，极个别的博彩投注可能需要在送回赢/输值之前先被比特币网络确认一次。</h4>\n				<h4>如果您赢了，您的赌注就乘以赌注表中注明的奖金乘数，乘积即为返还的赢注金额减去0.0001与0.0005之间的比特币网络交易费。</h4>\n				<h4>投注若输了，安慰奖等于投注金额乘以0.005; 安慰奖最小金额为比特币网络允许的最低金额即 0.00005460比特币，若安慰奖金额不到此数则无法返还。</h4>\n				<h4>交易处理时间</h4>\n				<p>&nbsp; 每项投注将采用财神灵™系统首次检测到该投注的时间处理投注，因此若系统或网络临时出故障将不会改变您的幸运号码以及游戏结果。</p>\n				<h4>您需要帮助吗？</h4>\n				<p>请联系财神堂客服</p>\n				<p>最低及最高投注金额</p>\n				<p>最低投注金额为0.001比特币。低于此金额的投注将视为无效投注而不予处理并在减去比特币网络交易费退回！最高投注金额根据不同的游戏而定并注明于游戏网。高于此金额的投注将视为无效投注而不予处理并在减去比特币网络交易费退回！</p>\n				<br />\n				<h2>高级技巧</h2>\n				<h3>每次交易下多个赌注</h3>\n				<p>如果愿意，您可以在每次交易中下多个比特币赌注。您想同时投多少个赌注选项地址就可以设置多少个。每个赌注均应单独评估支付。交易中的每个赌注均会有不同的幸运号码。</p>\n				<p>将赢注奖金发送至特定的比特币地址</p>\n				<p>通常，当您发送赌注时，返还支付交易会返还至您发出时的同一比特币地址。但是，也有办法将返还支付交易发送到特定的比特币地址。</p>\n\n				<ul>\n				  <li>&nbsp; 比特币，该次博彩投注的支出就会到该地址中去。</li>\n				  <li>交易的第一项支付必须将您的赌注额发送至财神灵™游戏地址，交易的第二项支付必须将金额 0.0051999发送至[您的新地址]。如果您赢了，全部赢注奖金将会发送至[您的新地址]。</li>\n				</ul>\n				<br />\n				<p>秘钥</p>\n				<p>为了保证系统不会修改赌注结果，会提前确定使用的秘钥。秘钥不会立即发布，因为秘钥可以用于提交可选择的交易，以不公平方式赢得博彩。但是，会发布密码的哈希。发布秘钥后，用户可以验证之前的博彩投注结果是否公平。系统公开的秘钥哈希（即秘钥的加密结果）不可以返现计算成原始秘钥，但在秘钥公开之后却可以将其随时计算成日前公布的秘钥哈希以便查看结果是否一致。</p>\n				<h3>日期</h3>\n				<p>每项投注赌注交易在第一次处理时均会被分配一个当前日期的密钥。多数情况下，交易在比特币网络上广播之后就会完成。但是，如果系统遇到处理故障或停电，也可能延迟一会。所有时间均采用格林尼治标准时间。</p>\n\n				<br />\n				<h3>哈希文件</h3>\n				<p>hashes.keys</a> 。该文件可以用多种方法验证。最简单的方法是下载后将该文件保存一份。</p>\n				<br />\n				<h3>秘钥公开程序</h3>\n				<p>（秘钥）</p>\n				<h3>“幸运号码”是如何计算的?</h3>\n				<p>用于判断输赢的“幸运号码”是crypto.createHmac(\'sha512\', 秘钥)前两个字节。</p>\n			</div>\n			<div class="panel col-xs-12 col-md-6">			\n\n		        <button type="button" class="close" data-dismiss="modal">×</button>\n		        <h3 id="myModalLabel">这些地方可购买比特币</h3>\n\n		        <ol>\n		          <li> <a target="_blank" href="https://btcchina.com" target="_blank">比特币中国</a></li>\n		          <li> <a target="_blank" href="http://www.btcsea.com/" target="_blank">比特海</a></li>\n		          <li> <a target="_blank" href="http://bitxf.com">比特先锋</a></li>\n		          <li> <a target="_blank" href="http://www.rmbtb.com">人盟比特币</a></li>\n		          <li> <a target="_blank" href="http://www.fxbtc.com">FXBTC.com</a></li>\n		          <li> <a target="_blank" href="http://www.btctrade.com">比特币交易网</a></li>\n		        </ol>\n			</div>\n		</div>\n	</div>\n</div>\n'),a.put("tpl/newtobitcoin-en.html",'<div class="main-container">\n	<div class="panel-body">\n		<div class="row">\n			<div class="panel col-xs-12 col-md-6">\n				<h2>New to Bitcoin?</h2>\n				<h3>A Bitcoin Guide for New Users</h4>\n				<hr>\n				<p>\n				Bitcoin is truly the currency of the future: it is not controlled by any government or interest group and is fully controlled by the community of users. Bitcoin has become a worldwide phenomenon and hundreds of businesses start accepting the currency every day. Now is the right time to start using the currency yourself.\n				In this short guide we will explain what you need to know to start using bitcoin today!\n				</p>\n				<br>\n				<h3>Your Bitcoin Wallet</h3>\n				<hr>\n				<p>The first thing you need to do is open a wallet. Wallet are used to store bitcoin that you have bought or mined.\n				There are many wallet providers, some that will require that you install a software on your computer (your bitcoin are then physically stored in your hard drive) and some that based entirely on the web.\n				The web wallets are very convenient and it only take a few minutes to open your account. Conversely, downloading wallet software, using “cold storage” addresses and/or printed copies of the wallet are all options for storage of Bitcoin.\n				Web-based wallets and downloadable wallets each have pros and cons. It is always recommended to store large amounts of Bitcoin in cold storage.\n				</p>\n\n				<p>\n				In any case, these wallet providers are trusted in the community and offer a high level of security:\n				</p>\n			    <ul><li><h1><a rel="nofollow" target="_blank" href="http://blockchain.info">Blockchain.info</a> (web based)</h1></li>\n			    <li><h1><a rel="nofollow" target="_blank" href="https://multibit.org">Multibit</a> (software)</h1></li>\n			    <li><h1><a rel="nofollow" target="_blank" href="https://electrum.org/">Electrum</a> (software)</h1></li>\n			    <li><h1><a rel="nofollow" target="_blank" href="https://coinbase.com/">Coinbase</a> (web based)</h1></li>\n			    <li><h1><a rel="nofollow" target="_blank" href="https://bitcoinarmory.com/">Armory</a> (software)</h1></li></ul>				\n\n				<br>\n				<h3>Using Bitcoin</h3>\n				<hr>		\n				<p>\n				Using bitcoin is incredibly easy and works almost like cash, only in an electronic form.\n				If you want to transfer bitcoin to a person or business you need to go to your wallet and "send" bitcoin to the wallet address of the recipient. The person or business will give you the address to send the bitcoin to and you can add a message along with your bitcoin so that the recipient know exactly why he has received the bitcoin.\n				</p>\n				<p>\n				Businesses may require that you also send an email with the transaction ID or your own wallet address so that they can identify you as the buyer and send you your goods or services.\n				Bitcoin transaction are nearly instant and cannot be reversed, so make sure that you are sending your bitcoin to the right address.\n				</p>\n				<p>\n				After a few bitcoin operations, the process will become second nature and it will feel as easy as paying in cash and easier than paying with your credit card!\n				</p>\n\n				<br>		\n				<h3>What is Bitcoin</h3>\n				<hr>\n				<p>\n				Bitcoin is a digital currency that can be used on the web or in the real world to complete financial transactions such as purchasing goods and services or transferring money to someone.\n				</p>\n				\n				<p>\n				The digital money can be sent instantly over the web and is a secure and trustworthy way to transfer value from one person to another or company. the transaction fees are minimal and the transaction nearly instant. Transactions cannot be reversed.\n				</p>\n				\n				<p>	\n				The digital money is transferred to the recipient and the proof of the transaction is kept in a public ledger (named the “block chain”) which records all transactions made with bitcoin.\n				</p>\n				\n				<p>\n				The ledger cannot be altered as it is stored on every network participants\' computers so the digital money can only be transferred to one person. Double spending is impossible, because the ledger proves what account sent bitcoin to which account and this bitcoin can now only be spent or sent from the account that received it.\n				</p>\n				\n				<p>\n				Bitcoin transactions are almost instantaneous and are completed when the network of user (automatically) validates the transfer and acknowledges that the bitcoin have been transferred and were transferable (not already spent).\n				</p>\n				\n				<p>\n				Bitcoin wallets that can be web based or downloaded on ones computer are used for sending and receiving bitcoin.\n				</p>\n				\n				<p>\n				To obtain bitcoin, the original method is to mine them which is done by dedicating computational power to the validation and tracking of bitcoin transactions in the ledger.\n				</p>\n				\n				<p>\n				To validate and record the transactions, the network needs to resolve problems generated by an algorithm and the first miner to resolve the problem gets rewarded with new bitcoin that he can then spend or sell. The problems to solve are increasingly difficult so more and more computational power will be needed to resolve them.\n				</p>\n\n				<p>\n				A simpler way to obtain bitcoin is to exchange fiat currency for them which can be done in bitcoin exchanges.\n				The value of the bitcoin has varied immensely in its history as it was mostly a medium for speculation at first but the crypto-currency is now used by many people around the world to purchase goods and services. Therefore the value of the currency has stabilized somewhat and should stabilize further as more and more businesses and people start accepting it for payment.\n				</p>\n			</h3>\n			</div>\n			<div class="panel col-xs-12 col-md-6">\n				<div class="indent-content">\n					<h3>Purchasing Bitcoin</h3>\n					<hr>\n					<p>\n					People who have bitcoin can sell them on bitcoin exchanges such as CoinBase or BitStamp. these exchanges will let you register a bank account and wire fiat currency to the exchange so that you can purchase bitcoin from sellers.\n					</p>\n					<p>\n					If you prefer buying the bitcoin in person, you can do so in many cities and directories such as <a href="http://localbitcoins.com/" target="_blank">localbitcoins.com</a> will let you find people who want to sell bitcoin directly.\n					</p>\n					<br>\n					<h3>Where to Buy Bitcoin</h3>\n					<hr>\n					<h4>Using Credit Cards:</h4>\n				    <ul>\n				    	<li><a target="_blank" href="https://www.tinkercoin.com/">TinkerCoin</a></li>\n				        <li><a target="_blank" href="https://www.meetpays.com/">MeetPays</a></li>\n				        <li><a target="_blank" href="http://www.buybitcoins.com">BuyBitcoins</a></li>\n				        <li><a target="_blank" href="http://money2btc.com">Money2BTC</a></li>\n				    </ul>\n				    <h4>Using wire transfers:</h4>\n				    <ul>\n				        <li><a target="_blank" href="http://coinbase.com">CoinBase</a></li>\n				        <li><a target="_blank" href="http://bitstamp.net">BITSTAMP</a></li>\n				        <li><a target="_blank" href="http://btc-e.com">BTC-E</a></li>\n				    </ul>\n				    <h4>Buy locally using cash or wire</h4>\n				    <ul>\n				        <li><a target="_blank" href="http://localbitcoins.com">localBitcoins</a></li>\n				    </ul>\n					<br>\n					<h3>Getting free Bitcoin</h3>\n					<hr>		\n					<p>\n					On the web you can find many companies willing to offer bitcoins as a reward to complete tasks such as watching a video or advertisement. A quick search on Google will uncover a lot of these sites but the bitcoin you will receive as a bonus is generally a tiny amount so you might need to complete many tasks before having a meaningful amount of bitcoin.\n					</p>	\n					<br />\n					<h3>Mining to Obtain Bitcoin</h3>\n					<p>\n					Mining is the original way to obtain bitcoin. The bitcoins are mined by resolving increasingly difficult mathematical problems. To resolve the problem you have to dedicate computational power and if you are the first to resolve the problem you obtain the bitcoin reward.\n					</p>\n					<p>\n					The problems have become extremely difficult to resolve and now require enormous computational power. You can buy specialized mining equipment (computers designed especially to mine bitcoin) from  manufacturing companies who specialize in bitcoin hardware.\n					</p>\n			    \n				</div>\n			</div>\n\n		</div>\n	</div>\n</div>\n'),a.put("tpl/newtobitcoin.html","<div data-ng-include data-src=\"'tpl/newtobitcoin-en.html'\"></div>"),a.put("tpl/preloader.html",'<div id="loading-mask" style="">\n	<img src="img/words/betcoin.png" class="img-responsive img-centered">\n	<div class="progress progress-striped active">\n		<div class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">\n		</div>\n	</div>\n</div>'),a.put("tpl/press.html",'<div class="container indent-content">\n	<h3>Press</h3>\n	<ul>\n		<li><a href="http://finance.yahoo.com/news/bitcoin-gaming-giant-announces-free-200600342.html">http://finance.yahoo.com/news/bitcoin-gaming-giant-announces-free-200600342.html</a></li>\n		<li><a href="http://finance.yahoo.com/news/worlds-largest-bitcoin-lottery-betcoin-100100034.html">\n	http://finance.yahoo.com/news/worlds-largest-bitcoin-lottery-betcoin-100100034.html</a></li>\n		<li><a href="http://finance.yahoo.com/news/bitcoin-gaming-wildfire-betcoin-customers-165100840.html">\n	http://finance.yahoo.com/news/bitcoin-gaming-wildfire-betcoin-customers-165100840.html</a></li>\n		<li><a href="http://finance.yahoo.com/news/bitcoin-transforming-casino-roulette-betcoin-081500152.html">\n	http://finance.yahoo.com/news/bitcoin-transforming-casino-roulette-betcoin-081500152.html</a></li>\n		<li><a href="http://finance.yahoo.com/news/shift-ethical-bitcoin-gaming-betcoin-175000048.html">\n	http://finance.yahoo.com/news/shift-ethical-bitcoin-gaming-betcoin-175000048.html</a></li>\n		<li><a href="http://finance.yahoo.com/news/demise-silk-road-turns-people-145700329.html">\n	http://finance.yahoo.com/news/demise-silk-road-turns-people-145700329.html</a></li>\n		<li><a href="http://news.yahoo.com/bitcoin-blockchain-duopoly-171900700.html">\n	http://news.yahoo.com/bitcoin-blockchain-duopoly-171900700.html</a></li>\n		<li><a href="http://finance.yahoo.com/news/multinational-funds-bitcoin-mining-asics-023600032.html">\n	http://finance.yahoo.com/news/multinational-funds-bitcoin-mining-asics-023600032.html</a></li>\n		<li><a href="http://www.innovategaming.com/betcoin-dice">\n	http://www.innovategaming.com/betcoin-dice</a></li>\n		<li><a href="http://bitcoinexaminer.org/betcoin-casino-team-launches-new-gaming-website-betcoin-circle-and-prepares-more-news/">\n	http://bitcoinexaminer.org/betcoin-casino-team-launches-new-gaming-website-betcoin-circle-and-prepares-more-news/</a></li>\n		<li><a href="http://www.coindesk.com/what-will-gambling-do-to-the-bitcoin-block-chain/">\n	http://www.coindesk.com/what-will-gambling-do-to-the-bitcoin-block-chain/</a></li>\n	</ul>\n</div>\n'),a.put("tpl/support/detail-ticket.html",'<div class="tab-content">\n	<div class="panel panel-default main-container">\n		<div class="panel-heading">\n			Ticket #{{ticket._id}} by {{ticket.owner}}\n			<label class="pull-right">Status: {{ticket.status | status}}</label>\n		</div>\n		<div class="panel-footer">\n				<div class="media-body">\n						<div class="panel panel-dark"> \n							<div class="reply">Subject: {{ticket.subject}}</div>\n							<div class="panel-body"><p>{{ticket.description}}</p> </div>\n							<div class="text-muted date"> {{ticket.dateCreated | date:\'medium\'}}</div>\n						</div> 	\n				</div>			\n			<div>\n				<div ng-repeat="comment in comments" class="media">\n					<div class="media-body">\n							<div class="panel panel-dark"> \n								<div class="reply">Reply from {{comment.isAdmin | user }}</div>\n								<div class="panel-body"><p>{{comment.message}}</p> </div>\n								<div class="text-muted date"> {{comment.dateModified | date:\'medium\'}}</div>\n							</div> 	\n					</div>\n				</div>				\n			</div>\n			<form action="" class="form-horizontal" name="replyForm" ng-hide="ticket.status == 2">\n				<div class="form-group">\n					<label class="control-label indent-label">Send a reply</label>\n					<div class="col-sm-12">\n						<textarea placeholder="Reply to the comment here" rows="5" cols="50" class="form-control" ng-model="comment.message" required></textarea>\n					</div>\n				</div>\n				<div class="form-group">\n					<div class="col-sm-12">\n						<div class="btn-group">\n							<div ng-hide="isAdmin">\n								<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" ng-disabled="replyForm.$invalid" ng-click="replyToTicketByuser(ticket._id)">Reply															</button>\n							</div>				\n						</div>\n					</div>\n				</div>													\n			</form>\n		\n		</div>	\n	</div>\n</div>\n\n'),a.put("tpl/support/new-ticket.html",'<div class="tab-content">\n	<div class="panel panel-default main-container">\n		<div class="panel-heading">New Ticket</div>\n		<div class="panel-footer">\n			<form action="" class="form-horizontal" name="ticketForm" novalidate>\n				<div class="form-group">\n					<label class="col-sm-2 control-label">Name</label>\n					<div class="col-sm-10">\n						<input type="text" class="form-control" ng-model="ticket.owner" placeholder="Your Name" required />\n					</div>\n				</div>\n				<div class="form-group">\n					<label class="col-sm-2 control-label">Email *</label>\n					<div class="col-sm-10">\n						<input type="email" class="form-control" ng-model="ticket.email" placeholder="email@domain.com" required />\n					</div>\n				</div>							\n				<div class="form-group">\n					<label class="col-sm-2 control-label">Subject</label>\n					<div class="col-sm-10">\n						<input type="text" class="form-control" ng-model="ticket.subject" placeholder="Subject"/>\n					</div>\n				</div>\n				<div class="form-group">\n					<label class="col-sm-2 control-label">Description *</label>\n					<div class="col-sm-10">\n						<textarea placeholder="Type your ticket issue here." rows="5" cols="50" class="form-control" ng-model="ticket.description" required></textarea>\n					</div>\n				</div>\n				<div class="form-group">\n					<label for="firstname" class="col-sm-2 control-label">Priority *</label>\n					<div class="col-sm-10">\n						<select class="form-control" name="language" ng-model="ticket.priority" required>\n							<option value="1">Low</option>\n							<option value="2">Normal</option>\n							<option value="3">High</option>\n							<option value="4">Urgent</option>\n						</select>		  			\n					</div>\n				</div>\n				<div class="form-group">\n					<label for="firstname" class="col-sm-2 control-label">Type *</label>\n					<div class="col-sm-10">\n						<select class="form-control" name="language" ng-model="ticket.type" required>\n							<option value="1">Incident</option>\n							<option value="2">Question</option>\n							<option value="3">Problem</option>\n							<option value="3">Task</option>\n						</select>\n					</div>\n				</div>\n				<!-- <div class="form-group">\n									<label for="firstname" class="col-sm-2 control-label"></label>\n									<div class="col-sm-10">\n										<div vc-recaptcha tabindex="3" theme="red" ng-model="ticket.captcha" key="6Le2Ju0SAAAAABBbEogKpYTmIN_ww84RcVguWqAP"></div>\n									</div>\n								</div> -->				\n				<div class="form-group">\n					<label for="firstname" class="col-sm-2 control-label"></label>\n					<div class="col-sm-10">\n						<div class="btn-group">\n							<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" ng-click="createTicket()" ng-disabled="ticketForm.$invalid">Submit Ticket\n							</button>	\n						</div>\n					</div>\n				</div>											\n			</form>					\n		</div>	\n	</div>\n</div>\n'),a.put("tpl/support/submit-ticket.html",'<div class="tab-content">\n	<div class="panel panel-default main-container">\n		<div class="panel-heading">Ticket Submitted</div>\n		<div class="panel-footer">\n			<div class="well">We have received your ticket. Please wait for the team reply. \n				<br>Your ticket no. <strong>{{ticketId}}</strong>.\n				<br> or visit <a href="{{host}}">here</a>\n			</div>\n		</div>	\n	</div>\n</div>\n'),a.put("tpl/terms-cn.html",'<div class="container">\n<h3>重要提示：使用钱包时，必须保证该钱包能从送出比特币所用地址收到比特币。如果不能确定，请用最小金额试赌一次。如果什么也收不回来，则您的钱包不兼容。请注意，有些博彩可能需要您在送回赢/输值之前先确认一次。</h3>\n\n\n<h3>最终用户许可协议</h3>\n<p> 此最终用户许可协议（以下简称“协议”）必须在您（用户或单一实体）使用财神骰子™服务或产品前仔细阅读。请注意本协议在您与财神骰子™（以下简称"财神骰子™"，“我们”）之间构成了一个具有法律约束力的协议，财神骰子™拥有并运营所发现的互联网网站以及在{{websiteName}}（服务）上的所述的游戏。通过点击“同意”按钮以及提供并/或使用服务，则表示您同意本协议中阐述的条款和条件。\n</p><br /><p>1. 授权许可证\n</p><p>1.1 根据本协议中的条款和条件，财神骰子™授权用户非排他性的，个人的，不可转让的，在您的私人电脑或其他设备上使用服务的权利，即为了访问{{websiteName}}上可用的和所述的游戏而访问互联网。（该网站与游戏一并称之为为“服务”）。\n</p><p>1.2 该服务不适用于以下 (1)18周岁以下个体，(2)在法律管辖范围内未成年人，(3) 非法使用服务者。财神骰子™ 无法验证每一区域内的服务合法性，因此用户必须确认其使用是否合法。\n</p><p>1.3 财神骰子™以及其许可者是服务和代码，结构和组织的所有解释权持有者，包括著作权、商业秘密、知识产权和其他权利。在法律规定范围内， 您不得：(a)抄袭，传播，出版，逆向工程，反向编译，反汇编，修改或翻译网页；或(b)通过法律和法规所禁止的行为使用服务（以上任一行为均为未授权使用）。财神骰子™保留任一以及全部暗示或其他权利，据此没有明确授予用户并保留服务中或对服务的所有权利，所有权和利益。您若同意，您将承担未授权使用所引起的或与犯罪相关联的任何损失、成本或费用。当您意识到任何人未经授权使用，应立即通知财神骰子™，并根据您在这方面提供的信息，为所进行的调查提供合理的帮助。\n</p><p>1.4 此术语"财神骰子™"，其域名和任何其他商标或财神骰子™使用的服务商标，作为服务的一部分（统称“商标”），是财神骰子™独有的。此外，网站上的全部内容，包括，但不限于，图像、图片、图形、照片、动画、视频、音乐、音频和文本（网页内容）均属于财神骰子™，且均受版权保护和/或其他知识产权或其他权利所保护。您特此承认使用服务，您未在网页内容和/或商标，或其中任何部分获得权利。在未获得 财神骰子™事先的书面同意之前，您决不使用网页内容和/或商标。此外，您承诺不会做任何对权利，包括对财神骰子™的知识产权有危害或潜在危害的事情。\n</p><br /><p>2. 不保修\n</p><p>2.1. 财神骰子™不对有关“不予改变”提供的服务任何形式的明示或暗示做出保证并且我们不为您提供关于其质量、适用性、完整性或准确性的任何保证或陈述。\n</p><p>2.2. 不管我们多努力，我们无法保证该服务不会中断、实时的或无错误的，或有将要被修复的缺陷。\n</p><br /><p>3. 服务的授权/条款\n</p><p>    您同意{{websiteName}}网站上的游戏规则。财神骰子™保留发布、维护和关闭服务的权限。财神骰子™管理层对有关服务的使用或者争议的解决的决定是最终并且不得对外开放用于审查或上诉。\n</p><br /><p>4. 您的声明与保证\n</p><p>    在您使用服务之前或使用中，您代表，保证，立约承诺且同意：\n</p><p>4.1 当您使用服务的时候，将可能有丢失比特币的风险，财神骰子™不对此丢失或者此种损失承担责任。\n</p><p>4.2 您对该服务的使用是自己选择，判断的并且是自行承担风险。\n</p><p>4.3 当您使用服务时，您将自行承担任何可能使用比特币付款的税金。\n</p><p>4.4. 财神骰子™不对用于你访问和使用服务的电信网络和互联网接入服务具有管控的权利，并且财神骰子™不对任何中断、缓慢、容量约束或其他不足承担责任。如果您年满18周岁或以上，目前不是自动排除任何赌博网站或场所，若您与任一赌博供应商签署入赌场协议请立即告知我们。\n</p><br /><p>5. 禁止使用\n</p><p>5.1 个人使用。此服务只适用于用户个人使用。用户仅允许对他/她个人娱乐打赌。\n</p><p>5.2 不得共享钱包。用户不得将比特币从一个共享的电子钱包或其他不被用户单独控制的地址转移到网站上显示的地址上，因为任何金额返还回初始地址都不一定能正确记入用户帐下。\n</p><p>5.3 司法管辖。位于或居住在美国以及美国领土（ 禁止的司法管辖区）不得使用本服务。为避免异议，上述限制在真正使用钱币进行游戏时同样适用于居住在禁止司法管辖区的其他国际的居民和公民。任何居住在禁止司法管辖区或受限管辖区的人试图绕过限制进行游戏的行为，均属于违反本协议。这种欺骗尝试包括但不限制于用于财神骰子™确认您的位置的操纵信息以及提供给财神骰子™ 有关您的位置或者居住地相关的虚假或者误导信息。 \n</p><p>5.4 禁止自动游戏。用户不得使用自动方法来进行服务互动。违反本政策的用户的存款将会被没收并且被永久停用账户。\n</p><p>5.5 禁止系统滥用。用户试图滥用服务将不予警告永久停用帐号。\n</p><br /><p>6. 违反\n</p><p>6.1在不损害任何其他权利的情况下，若用户违反本协议中所包含的全部或部分规范，财神骰子™有权采取其认为合适的行动，包括终止本协议或任何其他用户使用到的协议和/或对此类用户采取法律行动。\n</p><p>6.2. 您同意完全赔偿，保护并且对坚持认为财神骰子™公司及其股东，董事，代理人和雇员免受所有索赔，要求，责任，损害赔偿，损失，成本和费用，包括律师费和其他任何费用，无论何种原因，如何引起的，可能出现的结果：（i）您对本协议的全部或部分内容的违反（ii）您违反法律或任何第三方权利，及（iii）您对服务的使用。\n</p><br /><p>7. 责任限制\n</p><p>7.1 在任何情况下，包括疏忽情况下，财神骰子™应承担任何服务的使用（或滥用）造成的特殊的，偶然的，直接的，间接或后果性损害（包括但不限于营业利润损失，业务中断，业务信息丢失，或损坏任何其他金钱损失），即使财神骰子™事先知道这种损害的可能性。\n</p><p>7.2. 本协议中的任何内容都不应排除或者限制财神骰子™ 因为疏忽造成的死亡或人身伤害的责任。\n</p><br /><p>8. 争议\n</p><p>    如果用户有任何投诉，请联系我们的客户服务团队support@{{supportDomain}}。如果未能满意为您解决争议，您可以在法律允许的范围内提出以下补救措施。\n</p><br /><p>9. 修订\n</p><p>财神骰子™保留随时更新或修改本协议或其任何部分或者其他更改服务的权利，恕不另行通知，修改后的协议将会通过邮寄发送给您。因此，我们鼓励您此生效期限内检查此修订协议中所包含的条款和条件。您继续使用本服务将被视为证明您同意该协议的任何修订。\n</p><br /><p>10. 适用法律\n</p><p>    本协议以及有关的任何事宜应受哥斯达黎加法律的管辖，并按照其法律条款解释。您必须同意（须符合下文规定）哥斯达黎加法院就有关协议以及协议所产生的任何事物所涉及的任何赔偿、争议或者分歧应具有专属管辖权，并且对可能对那些可能成为法院诉讼的任何行为具有最终放弃的权利， 或者对任何对法院或者其他不具有管辖权的法院造成不便的行为索求赔偿。本条款中的任何内容都不应限制财神骰子™对你在任何其他有管辖权的法院提起诉讼的权利，亦不得在任何其他司法管辖区的任何一个或多个司法管辖区采取的法律程序排除采取诉讼的权利，无论同时与否，都应在其他管辖区域法律允许范围内之内\n</p><br /><p>11. 可分割性\n</p><p>   如果本协议的规定，在任何司法管辖区或成为非法，无效或不可执行，不得影响在该司法管辖区的任何其他条款或在其他司法管辖区的有效性或可执行或任何其他规定的有效性或可执行。\n</p><br /><p>12. 转让\n</p><p>    财神骰子™保留在任何时间，全部或部分转让本协议而不另行通知的权利。用户不得转让本协议项下他/她的任何权利或义务\n</p><br /><p>13. 其他\n</p><p>13.1. 财神骰子™对任何违反本协议的责任豁免（包括财神骰子™在本协议中没有严格或书面表述的，或者承诺的任何条款）将不被解释为豁免或其他或往后的任何违约行为。\n</p><p>13.2. 本协议中的任何内容都不应创造或赋予有利于没有参与的本协议任何第三方的任何权利或其他利益，除了财神骰子™的分支机构以外。\n</p><p>13.3. 本协议中的任何内容都不应在您和我们之间建立，或者被视为建立了合作关系，代理，信托安排，受托关系，或合资关系。\n</p><p>13.4 本协议构成您和我们之间有关服务的全部协定和共识，并取代您和我们之间任何先前的协定、共识或安排。\n</p>\n\n</div>\n'),a.put("tpl/terms-en.html",'<div class="container">\n    <h3>Terms &amp; Conditions</h3>\n    <p>Only use wallets that allow you to receive Bitcoin from the same address you sent from. If you\'re not sure, test by sending a bet for the minimum amount. If you get nothing back, then your wallet is not compatible. Note that some bets may require one confirmation before the win/loss value is sent back.</p>\n    <p>By accessing BetCoin.tm or its service, you:</p>\n    <ul>\n        <li>Acknowledge that you have read and agree to the website\'s Terms &amp; Conditions available below;</li>\n        <li>Attest that you are 18 years old or older;</li>\n        <li>Affirm that you are in a jurisdiction where the BetCoin.tm service is legal.</li>\n    </ul>\n<br /><br />\n<p>END USER AGREEMENT\n</p><p>\n    This end user agreement (the "Agreement") should be read by you (the "User" or "you") in its entirety prior to your use of the BetCoin &trade; service or products. Please note that the Agreement constitutes a legally binding agreement between you and BetCoin &trade; (referred to herein as "BetCoin &trade;", "us" or "we") which owns and operates the Internet site found and games described at <a href="http://BetCoin.tm">BetCoin.tm</a> (the "Service"). By clicking the "I Agree" button if and where provided and/or using the Service, you consent to the terms and conditions set forth in this Agreement.\n</p><br /><p>1. GRANT OF LICENSE\n</p><p>\n    1.1. Subject to the terms and conditions contained herein, BetCoin &trade; grants the User a non-exclusive, personal, non-transferable right to use the Service on your personal computer or other device that accesses the Internet in order to access the games available and described on the <a href="http://BetCoin.tm">BetCoin.tm</a> website (the website and games together being the "Service").\n</p><p>\n    1.2.  The Service is not for use by (i) individuals under 18 years of age, (ii) individuals under the legal age of majority in their jurisdiction and (iii) individuals accessing the Service from jurisdictions from which it is illegal to do so. BetCoin &trade; is not able to verify the legality of the Service in each jurisdiction and it is the User\'s responsibility to ensure that their use of the Service is lawful.\n</p><p>\n    1.3.  BetCoin &trade; and its licensors are the sole holders of all rights in and to the Service and code, structure and organization, including copyright, trade secrets, intellectual property and other rights. You may not, within the limits prescribed by applicable laws: (a) copy, distribute, publish, reverse engineer, decompile, disassemble, modify, or translate the website; or (b) use the Service in a manner prohibited by applicable laws or regulations (each of the above is an "Unauthorized Use"). BetCoin &trade; reserves any and all rights implied or otherwise, which are not expressly granted to the User hereunder and retain all rights, title and interest in and to the Service. You agree that you will be solely liable for any damage, costs or expenses arising out of or in connection with the commission by you of any Unauthorized Use. You shall notify BetCoin &trade; immediately upon becoming aware of the commission by any person of any Unauthorized Use and shall provide BetCoin &trade; with reasonable assistance with any investigations it conducts in light of the information provided by you in this respect.\n</p><p>\n    1.4. The term "BetCoin &trade;", its domain names and any other trade marks, or service marks used by BetCoin &trade; as part of the Service (the "Trade Marks"), are solely owned by BetCoin &trade;. In addition, all content on the website, including, but not limited to, the images, pictures, graphics, photographs, animations, videos, music, audio and text (the "Site Content") belongs to BetCoin &trade; and is protected by copyright and/or other intellectual property or other rights. You hereby acknowledge that by using the Service, you obtain no rights in the Site Content and/or the Trade Marks, or any part thereof. Under no circumstances may you use the Site Content and/or the Trade Marks without BetCoin &trade; prior written consent. Additionally, you agree not to do anything that will harm or potentially harm the rights, including the intellectual property rights of BetCoin &trade;.\n</p><br /><p>\n    2. NO WARRANTIES.</p><p>\n    2.1. BetCoin &trade; DISCLAIMS ANY AND ALL WARRANTIES, EXPRESSED OR IMPLIED, IN CONNECTION WITH THE SERVICE WHICH IS PROVIDED TO YOU "AS IS" AND WE PROVIDE YOU WITH NO WARRANTY OR REPRESENTATION WHATSOEVER REGARDING ITS QUALITY, FITNESS FOR PURPOSE, COMPLETENESS OR ACCURACY.\n</p><p>2.2. REGARDLESS OF OUR EFFORTS, WE MAKE NO WARRANTY THAT THE SERVICE WILL BE UNINTERRUPTED, TIMELY OR ERROR-FREE, OR THAT DEFECTS WILL BE CORRECTED.\n</p><br /><p>\n    3. AUTHORITY/TERMS OF SERVICE\n</p><p>You agree to the game rules described on the <a href="http://BetCoin.tm">BetCoin.tm</a> website. BetCoin &trade; retains authority over the issuing, maintenance, and closing of the Service. The decision of  BetCoin &trade; management, as regards any use of the Service, or dispute resolution, is final and shall not be open to review or appeal.\n</p><br /><p>\n    4. YOUR REPRESENTATIONS AND WARRANTIES\n</p><p>Prior to your use of the Service and on an ongoing basis you represent, warrant, covenant and agree that:\n</p><p>4.1. there is a risk of losing bitcoins when using the Service and that BetCoin &trade; has no responsibility to you for any such loss;\n</p><p>4.2. your use of the Service is at your sole option, discretion and risk;\n</p><p>4.3. you are solely responsible for any applicable taxes which may be payable on bitcoins awarded to you through your using the Service;\n</p><p>4.5. the telecommunications networks and Internet access services required for you to access and use the Service are entirely beyond the control of BetCoin &trade; and  BetCoin &trade; shall have no liability whatsoever for any outages, slowness, capacity constraints or other deficiencies affecting the same; and\n</p><p>4.6. you are aged 18 or over and that you are not currently self-excluded from any gambling site or gambling premises and that you will inform us immediately if you enter into a self-exclusion agreement with any gambling provider.\n\n</p><br /><p>5. PROHIBITED USES\n</p><p>5.1. PERSONAL USE. The Service is intended solely for the User\'s personal use. The User is only allowed to wager for his/her personal entertainment.\n</p><p>5.2. NO SHARED WALLET. The User will not transmit Bitcoins to the address indicated on the website from a shared wallet or any other address not solely controlled by the User as any amounts sent back to the initiating address may not be properly credited to the User.\n</p><p>5.3 JURISDICTIONS. Persons located in or residents of the United States and the United States Territories (the “Prohibited Jurisdictions”) are not permitted make use of the Service.  For the avoidance of doubt, the foregoing restrictions on engaging in real-money play from Prohibited Jurisdictions applies equally to residents and citizens of other nations while located in a Prohibited Jurisdiction. Any attempt to circumvent the restrictions on play by any persons located in a Prohibited Jurisdiction or Restricted Jurisdiction, is a breach of this Agreement.  An attempt at circumvention includes, but is not limited to, manipulating the information used by BetCoin &trade; to identify your location and providing BetCoin &trade; with false or misleading information regarding your location or place of residence.\n\n</p><br /><p>6. BREACH\n</p><p>6.1. Without to any other rights, if a User breaches in whole or in part any provision contained herein,  BetCoin &trade; reserves the right to take such action as it sees fit, including terminating this Agreement or any other agreement in place with the User and/or taking legal action against such User.\n\n</p><p>6.2. You agree to fully indemnify, defend and hold harmless BetCoin &trade; and its shareholders, directors, agents and employees from and against all claims, demands, liabilities, damages, losses, costs and expenses, including legal fees and any other charges whatsoever, howsoever caused, that may arise as a result of: (i) your breach of this Agreement, in whole or in part; (ii) violation by you of any law or any third party rights; and (iii) use by you of the Service.\n\n</p><br /><p>7. LIMITATION OF LIABILITY.\n</p><p>7.1. Under no circumstances, including negligence, shall BetCoin &trade; be liable for any special, incidental, direct, indirect or consequential damages whatsoever (including, without limitation, damages for loss of business profits, business interruption, loss of business information, or any other pecuniary loss) arising out of the use (or misuse) of the Service even if BetCoin &trade; had prior knowledge of the possibility of such damages.\n</p><p>7.2. Nothing in this Agreement shall exclude or limit BetCoin &trade;’s liability for death or personal injury resulting from its negligence.\n\n</p><br /><p>8. DISPUTES\n</p><p>If a User wishes to make a complaint, please contact our customer service team at <a href="mailto:support@{{supportDomain}}">support@{{supportDomain}}</a>. Should any dispute not be resolved to your satisfaction you may pursue remedies in the governing law jurisdiction set forth below.\n\n</p><p>9. AMENDMENT\n</p><p>BetCoin &trade; reserves the right to update or modify this Agreement or any part thereof at any time or otherwise change the Service without notice and you will be bound by such amended Agreement upon posting. Therefore, we encourage you check the terms and conditions contained in the version of the Agreement in force at such time. Your continued use of the Service shall be deemed to attest to your agreement to any amendments to the Agreement.\n\n</p><p>10. GOVERNING LAW\n</p><p>The Agreement and any matters relating hereto shall be governed by, and construed in accordance with, the laws of Costa Rica. You irrevocably agree that, subject as provided below, the courts of Costa Rica shall have exclusive jurisdiction in relation to any claim, dispute or difference concerning the Agreement and any matter arising therefrom and irrevocably waive any right that it may have to object to an action being brought in those courts, or to claim that the action has been brought in an inconvenient forum, or that those courts do not have jurisdiction. Nothing in this clause shall limit the right of BetCoin &trade; to take proceedings against you in any other court of competent jurisdiction, nor shall the taking of proceedings in any one or more jurisdictions preclude the taking of proceedings in any other jurisdictions, whether concurrently or not, to the extent permitted by the law of such other jurisdiction.\n\n</p><br /><p>11. SEVERABILITY\n</p><p>If a provision of this Agreement is or becomes illegal, invalid or unenforceable in any jurisdiction, that shall not affect the validity or enforceability in that jurisdiction of any other provision hereof or the validity or enforceability in other jurisdictions of that or any other provision hereof.\n\n</p><br /><p>12. ASSIGNMENT\n</p><p>BetCoin &trade; reserves the right to assign this agreement, in whole or in part, at any time without notice. The User may not assign any of his/her rights or obligations under this Agreement.\n\n</p><br /><p>13. MISCELLANEOUS\n</p><p>13.1. No waiver by BetCoin &trade; of any breach of any provision of this Agreement (including the failure of BetCoin &trade; to require strict and literal performance of or compliance with any provision of this Agreement) shall in any way be construed as a waiver of any subsequent breach of such provision or of any breach of any other provision of this Agreement.\n</p><p>13.2. Nothing in this Agreement shall create or confer any rights or other benefits in favor of any third parties not party to this Agreement other than with an affiliate of BetCoin &trade;.\n</p><p>13.3. Nothing in this Agreement shall create or be deemed to create a partnership, agency, trust arrangement, fiduciary relationship or joint venture between you and us.\n</p><p>13.4. This Agreement constitutes the entire understanding and agreement between you and us regarding the Service and supersedes any prior agreement, understanding, or arrangement between you and us.\n</p>\n\n</div>\n'),a.put("tpl/terms.html","<div data-ng-include data-src=\"'tpl/terms-en.html'\"></div>")
}]);